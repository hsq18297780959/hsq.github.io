{"version":3,"file":"js/app.39c72263.js","mappings":"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","sources":["webpack://hsq/./src/App.vue","webpack://hsq/./src/App.vue?7ccd","webpack://hsq/./src/utils/store.js","webpack://hsq/./src/views/Chat.vue","webpack://hsq/./src/views/Chat.vue?65ee","webpack://hsq/./src/views/demo.vue","webpack://hsq/./src/views/demo.vue?0257","webpack://hsq/./src/views/Login.vue","webpack://hsq/./src/utils/request.js","webpack://hsq/./src/views/Login.vue?240b","webpack://hsq/./src/router/index.js","webpack://hsq/./src/main.js","webpack://hsq/webpack/bootstrap","webpack://hsq/webpack/runtime/chunk loaded","webpack://hsq/webpack/runtime/compat get default export","webpack://hsq/webpack/runtime/define property getters","webpack://hsq/webpack/runtime/global","webpack://hsq/webpack/runtime/hasOwnProperty shorthand","webpack://hsq/webpack/runtime/make namespace object","webpack://hsq/webpack/runtime/jsonp chunk loading","webpack://hsq/webpack/startup"],"sourcesContent":["<template>\n  <div id=\"app\">\n    <router-view />\n  </div>\n</template>\n\n\n<style>\n\n</style>","import { render } from \"./App.vue?vue&type=template&id=6b2aa994\"\nconst script = {}\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createStore } from 'vuex';\r\n\r\nconst store = createStore({\r\n    state() {\r\n        return {\r\n            isLoggedIn: false, // 默认未登录\r\n        };\r\n    },\r\n    mutations: {\r\n        SET_LOGGED_IN(state, isLoggedIn) {\r\n            state.isLoggedIn = isLoggedIn;\r\n        },\r\n        login(state) {\r\n            state.isLoggedIn = true;\r\n        },\r\n        logout(state) {\r\n            state.isLoggedIn = false;\r\n        },\r\n    },\r\n    actions: {\r\n        login({ commit }) {\r\n            // 实际应用中可能是异步操作，例如发送登录请求\r\n            commit('login');\r\n        },\r\n        logout({ commit }) {\r\n            // 实际应用中可能是异步操作，例如发送注销请求\r\n            commit('logout');\r\n        },\r\n    },\r\n    getters: {\r\n        isLoggedIn: state => state.isLoggedIn,\r\n    },\r\n});\r\n\r\nexport default store;","<template>\r\n  <div>\r\n    <h1>Chat</h1>\r\n    <el-input v-model=\"socketUrl\" placeholder=\"Enter socket url\"></el-input>\r\n\r\n    你的id:{{id}}\r\n\r\n    在线用户:{{name_list}}\r\n    <el-input v-model=\"userid\" placeholder=\"Enter your user id\"></el-input>\r\n    <el-button type=\"primary\" @click=\"cn(this.userid)\">Connect</el-button>\r\n    <el-button type=\"primary\" @click=\"openVideo\">Open Video</el-button>\r\n    <el-button type=\"danger\" @click=\"hangUp\">Hang Up</el-button>\r\n    <div class=\"chat-container\">\r\n      <div class=\"video-container\">\r\n        <video id=\"iv\" autoplay></video>\r\n        <div class=\"overlay-container\">\r\n          <video id=\"iv2\" autoplay></video>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"ChatView\",\r\n  data() {\r\n\r\n    return {\r\n      socket: null,\r\n      pc: null,\r\n      localStream: null,\r\n      userid: \"\",\r\n      socketUrl: \"\",\r\n      id:'',\r\n      name_list:[]\r\n\r\n    };\r\n  },\r\n\r\n  methods: {\r\n\r\n    InitSocket() {\r\n      let userid=this.$route.query.user;\r\n\r\n\r\n      this.socketUrl = \"wss://192.168.3.3:8099/\"+ userid;\r\n      let ws = new WebSocket(this.socketUrl);\r\n      this.socket = ws;\r\n\r\n      this.socket.onclose = (e) => console.log(\"Connection closed:\", e.code);\r\n      this.socket.onopen = () => console.log(\"Connection established\");\r\n      this.socket.onerror = (e) => console.error(\"Socket error:\", e);\r\n      this.socket.onmessage = async (event) => {\r\n        const obj = JSON.parse(event.data);\r\n        const {type, userId} = obj;\r\n        if (userId && userId !== userid.toString()) {\r\n\r\n          // 如果目标用户ID不匹配，忽略该消息\r\n          return;\r\n        }\r\n        try {\r\n          if (type === \"offer\") {\r\n            if (this.pc) {\r\n              console.error(\"PeerConnection already exists!\");\r\n              return;\r\n            }\r\n            this.pc = this.InitPeerConnection(userid);\r\n            const desc = new RTCSessionDescription(obj);\r\n            await this.pc.setRemoteDescription(desc);\r\n            const answer = await this.pc.createAnswer();\r\n            await this.pc.setLocalDescription(answer);\r\n            this.socket.send(JSON.stringify(answer));\r\n          } else if (type === \"answer\") {\r\n            if (!this.pc) {\r\n              console.error(\"PeerConnection does not exist!\");\r\n              return;\r\n            }\r\n            const desc = new RTCSessionDescription(obj);\r\n            await this.pc.setRemoteDescription(desc);\r\n          } else if (type === \"candidate\") {\r\n            const candidate = new RTCIceCandidate({\r\n              sdpMLineIndex: obj.sdpMLineIndex,\r\n              sdpMid: obj.sdpMid,\r\n              candidate: obj.candidate\r\n            });\r\n            await this.pc.addIceCandidate(candidate);\r\n          } else if (type === \"hangup\") {\r\n            // Handle hangup\r\n            this.hangUp();\r\n            console.log(\"Received hangup message, call ended.\");\r\n          } else if (type === \"name_list\") {\r\n            this.id = obj.your_id;\r\n            this.name_list = obj.data;\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Error handling message:\", error);\r\n        }\r\n      }\r\n\r\n\r\n\r\n    },\r\n    InitPeerConnection(targetUserId) {\r\n      let peerconnection = null;\r\n      try {\r\n        // 使用 RTCPeerConnection 构造函数\r\n        peerconnection = window.webkitRTCPeerConnection\r\n            ? new window.webkitRTCPeerConnection()\r\n            : new RTCPeerConnection();\r\n      } catch (e) {\r\n        console.error(\"Connection failed:\", e.message);\r\n        return null; // 如果创建连接失败，返回 null\r\n      }\r\n\r\n      // 处理 ICE 候选\r\n      peerconnection.onicecandidate = (evt) => {\r\n        if (evt.candidate) {\r\n          const candidate = {\r\n            type: \"candidate\",\r\n            userId: targetUserId,\r\n            sdpMid: evt.candidate.sdpMid,\r\n            sdpMLineIndex: evt.candidate.sdpMLineIndex,\r\n            candidate: evt.candidate.candidate\r\n          };\r\n          this.socket.send(JSON.stringify(candidate));\r\n        }\r\n      };\r\n\r\n      // 添加本地流\r\n      if (this.localStream) {\r\n        this.localStream.getTracks().forEach(track => {\r\n          peerconnection.addTrack(track, this.localStream);\r\n        });\r\n      }\r\n\r\n      // 处理远程流\r\n      peerconnection.ontrack = (event) => {\r\n        const remoteStream = event.streams[0];\r\n        document.getElementById(\"iv2\").srcObject = remoteStream;\r\n        // 可能不需要再调用 play()，因为浏览器通常会自动处理\r\n      };\r\n\r\n      return peerconnection;\r\n    },\r\n    cn(targetUserId) {\r\n      this.pc = this.InitPeerConnection(targetUserId);\r\n      this.pc.createOffer()\r\n          .then((desc) => {\r\n            // 创建一个包含 offer 和 userId 的新对象\r\n            const offerMessage = {\r\n              type: 'offer',\r\n              sdp: desc.sdp,\r\n              userId: targetUserId\r\n            };\r\n\r\n            return this.pc.setLocalDescription(desc).then(() => {\r\n              this.socket.send(JSON.stringify(offerMessage));\r\n            });\r\n          })\r\n          .catch((err) => console.error(\"Create offer failed:\", err));\r\n    },\r\n    openVideo() {\r\n      navigator.mediaDevices.getUserMedia({ video: true, audio: true })\r\n          .then(stream => {\r\n            this.localStream = stream;\r\n            const videoElement = document.getElementById(\"iv\");\r\n            videoElement.srcObject = stream;\r\n            videoElement.play();\r\n          })\r\n          .catch(error => {\r\n            console.error(\"Error accessing media devices.\", error);\r\n          });\r\n    },\r\n    hangUp() {\r\n\r\n        if (this.pc) {\r\n          // 发送挂断消息到对方\r\n          const hangUpMessage = JSON.stringify({type: \"hangup\", userId: this.$route.query.touser});\r\n          this.socket.send(hangUpMessage);\r\n\r\n          // 关闭 PeerConnection 和 WebSocket\r\n          this.pc.close();\r\n          this.pc = null;\r\n\r\n          if (this.localStream) {\r\n            this.localStream.getTracks().forEach(track => track.stop());\r\n            this.localStream = null;\r\n          }\r\n\r\n\r\n          document.getElementById(\"iv\").srcObject = null;\r\n          document.getElementById(\"iv2\").srcObject = null;\r\n\r\n          console.log(\"Call ended\");\r\n          this.$router.push({name: 'demo', query: {user: this.$route.query.user}});\r\n        } else {\r\n          console.log(\"No active connection to hang up\");\r\n        }\r\n\r\n    }\r\n  },\r\n  mounted() {\r\n    this.openVideo();\r\n   this.InitSocket();\r\n    window.addEventListener('beforeunload', handleUnload);\r\n    function handleUnload() {\r\n\r\n      this.socket.send(`CLOSE||${this.$route.query.user}`);\r\n    }\r\n    console.log(this.$route.query.touser);\r\n    if(this.$route.query.touser){\r\n      setTimeout(() => {\r\n        this.cn(this.$route.query.touser);\r\n      }, 1000)\r\n    }\r\n\r\n\r\n\r\n\r\n\r\n\r\n  },\r\n  beforeUnmount()\r\n  {\r\n    if (this.pc) {\r\n      this.pc.close();\r\n      this.pc = null;\r\n    }\r\n    if (this.localStream) {\r\n      this.localStream.getTracks().forEach(track => track.stop());\r\n      this.localStream = null;\r\n    }\r\n    if (this.socket) {\r\n      this.socket.close();\r\n      this.socket = null;\r\n    }\r\n  }\r\n\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n/* Add your styles here */\r\nbody {\r\n  margin: 0;\r\n  padding: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  background-color: #f0f0f0;\r\n}\r\n\r\n.chat-container {\r\n  display: flex;\r\n  flex-direction: column;\r\n  width: 100%;\r\n  height: 100%;\r\n  max-width: 800px;  /* Adjust as needed */\r\n  max-height: 600px; /* Adjust as needed */\r\n  position: relative;\r\n}\r\n\r\n.video-container {\r\n  position: relative;\r\n  flex: 1;\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n\r\nvideo {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n  border: 1px solid #ccc;\r\n  background-color: #000;\r\n}\r\n\r\n.overlay-container {\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 30%;  /* Adjust size of overlay video */\r\n  height: 30%; /* Adjust size of overlay video */\r\n  border: 2px solid #ccc;\r\n}\r\n\r\n#iv2 {\r\n  width: 100%;\r\n  height: 100%;\r\n  object-fit: cover;\r\n}\r\n</style>","import { render } from \"./Chat.vue?vue&type=template&id=4e5f7839&scoped=true\"\nimport script from \"./Chat.vue?vue&type=script&lang=js\"\nexport * from \"./Chat.vue?vue&type=script&lang=js\"\n\nimport \"./Chat.vue?vue&type=style&index=0&id=4e5f7839&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4e5f7839\"]])\n\nexport default __exports__","<template>\r\n  <h1>WebSocket Chat</h1>\r\n  <div class=\"container my-5\">\r\n    <div id=\"board\" class=\"row\"></div>\r\n  </div>\r\n  <div id=\"timeDisplay\"></div>\r\n  <div style=\"display:flex\">\r\n    <input type=\"text\" id=\"nameInput\" placeholder=\"Set your name...\" />\r\n    <button id=\"setName\">Set Name</button>\r\n  </div>\r\n  <div id=\"messages\"></div>\r\n  <div style=\"display:flex\">\r\n    <input type=\"text\" id=\"messageInput\" placeholder=\"Type your message here...\" />\r\n    <button id=\"sendMessage\">Send</button>\r\n  </div>\r\n\r\n  <button id=\"Match\">Match</button>\r\n  <button id=\"Close\">Close Match</button>\r\n\r\n  <div id=\"userList\" class=\"user-list\"></div>\r\n</template>\r\n\r\n<script>\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {\r\n\r\n  name: \"DemoView\",\r\n\r\n\r\n  data() {\r\n    return {\r\n      html: \"<h1>Hello World</h1>\",\r\n      ws: null,\r\n      Username: null,\r\n\r\n      gameInfo: null,\r\n      timerId: null,\r\n      board: null,\r\n      canvas: null,\r\n      ctx: null,\r\n      piece: null,\r\n\r\n    };\r\n  },\r\n  methods: {},\r\n  mounted() {\r\n    let userid;\r\n    if (this.$route.query.user) {\r\n       userid = this.$route.query.user;\r\n    }else{\r\n       userid = Math.round(Math.random() * 1000);\r\n    }\r\n\r\n    const socketUrl = \"wss://192.168.3.3:8099/\" + userid;\r\n    const ws = new WebSocket(socketUrl);\r\n    let Username='';\r\n    let timerId;\r\n    let gameInfo;\r\n    // Create a canvas element\r\n    const canvas = document.createElement('canvas');\r\n    canvas.id = 'ls'; // Set the ID to 'ls'\r\n    canvas.width = 450; // Set the width\r\n    canvas.height = 450; // Set the height\r\n\r\n\r\n    // Get the 2D drawing context\r\n    const ctx = canvas.getContext('2d');\r\n    const gridSize = 15;  // 15x15 grid\r\n    const cellSize = canvas.width / gridSize; // Calculate cell size\r\n    ctx.strokeStyle = '#000'; // Set line color\r\n    ctx.lineWidth = 1; // Set line width\r\n    // Append the canvas to the body\r\n    let board = Array(gridSize).fill(null).map(() => Array(gridSize).fill(null)); // To track the board state\r\n    let isBlackTurn = true; // Track the current player's turn\r\n    const timeDisplay = document.getElementById('timeDisplay');\r\n    let seconds = 0;\r\n\r\n    ws.onopen = () => {\r\n      console.log('Connected to WebSocket server');\r\n      ws.send('LIST');\r\n    };\r\n\r\n    ws.onmessage = async (event) => {\r\n      const data = event.data.split('||');\r\n      // Check if splitting resulted in the expected number of parts\r\n      if (data.length < 2) {\r\n        console.warn('Unexpected data format:', event.data);\r\n        return;\r\n      }\r\n      if (data[0] === 'NAME_SET') {\r\n        this.$message.success('Name set to:' + data[1]);\r\n        Username = data[1]\r\n\r\n      } else if (data[0] === 'ERROR') {\r\n        this.$message.error(data[1]);\r\n\r\n      } else if (data[0] === 'MESSAGE') {\r\n        const [, senderId, message] = data;\r\n        const messages = document.getElementById('messages');\r\n        const msg = document.createElement('div');\r\n        msg.textContent = `来自 ${senderId}的私聊消息: ${message}`;\r\n        messages.appendChild(msg);\r\n        messages.scrollTop = messages.scrollHeight;\r\n      } else if (data[0] === 'LIST') {\r\n        const userList = document.getElementById('userList');\r\n        userList.innerHTML = ''; // Clear existing user list\r\n        const users = data[1].split(',');\r\n        users.forEach(user => {\r\n          const [id, name] = user.split(':');\r\n          const userElement = document.createElement('div');\r\n\r\n          userElement.className = 'user';\r\n          const userText = document.createElement('span');\r\n          userText.textContent = id + ':' + name;\r\n          userElement.appendChild(userText);\r\n\r\n          // Create and append the video call button\r\n          const videoCallButton = document.createElement('button');\r\n          videoCallButton.textContent = 'Video Call';\r\n          videoCallButton.className = 'video-call-button';\r\n          videoCallButton.onclick = () => {\r\n            initiateVideoCall(id); // Function to handle the video call logic\r\n          };\r\n          userElement.appendChild(videoCallButton);\r\n\r\n          userElement.onclick = () => {\r\n            const messageInput = document.getElementById('messageInput');\r\n            messageInput.placeholder = `Message to ${name}`;\r\n            messageInput.setAttribute('data-recipient', id);\r\n          };\r\n          userList.appendChild(userElement);\r\n        });\r\n      } else if (data[0] === 'ALL') {\r\n        const [, senderId, message] = data;\r\n        const messages = document.getElementById('messages');\r\n        const msg = document.createElement('div');\r\n        msg.textContent = `来自 ${senderId} 的全部消息: ${message}`;\r\n        messages.appendChild(msg);\r\n        messages.scrollTop = messages.scrollHeight;\r\n      } else if (data[0] === 'GAME') {\r\n        const [, msg, player, game] = data;\r\n\r\n\r\n        switch (msg) {\r\n          case '正在匹配': {\r\n\r\n\r\n            // 每秒更新时间\r\n            timerId = setInterval(updateTime, 1000);\r\n            break;\r\n          }\r\n\r\n          case '匹配成功': {\r\n            clearInterval(timerId);\r\n            this.$message.success('匹配成功 ' + player);\r\n\r\n            gameInfo = game;\r\n\r\n\r\n            const timeDisplay = document.getElementById('timeDisplay');\r\n            timeDisplay.textContent = '';\r\n\r\n\r\n            // Call the drawGrid function to render the grid\r\n            drawGrid();\r\n            canvas.addEventListener('click', handleClick);\r\n            break;\r\n          }\r\n          case 'gameData': {\r\n            gameInfo = game;\r\n            break;\r\n          }\r\n          case 'OVER': {\r\n            const [, , winner] = data;\r\n            this.$message.success(`游戏结束,获胜者为 ${winner}`);\r\n            const element = document.getElementById('ls');\r\n            if (element) {\r\n              element.parentNode.removeChild(element);\r\n\r\n            }\r\n            break;\r\n\r\n          }\r\n\r\n\r\n        }\r\n\r\n      } else if (data[0] === 'MOVE') {\r\n\r\n        const [, move_data] = data;\r\n        const move_data_json = JSON.parse(move_data);\r\n        console.log(move_data_json)\r\n        const x = move_data_json['x'];\r\n        const y = move_data_json['y'];\r\n        const color = move_data_json['color'];\r\n        board[y][x] = color;\r\n        drawPiece(x, y, color);\r\n\r\n\r\n      } else if (data[0] === 'CALL') {\r\n        const [, user] = data;\r\n        const response = await this.$confirm(`${user} 请求视频通话`);\r\n\r\n        if (response) {\r\n          // 用户点击“确定”，进行跳转或其他操作\r\n          ws.send(`CALL||ACCEPT||${user}||${Username}`);\r\n          // 跳转到视频通话页面\r\n          this.$router.push({name: 'chat', query: {user: userid}});\r\n\r\n        } else {\r\n          // 用户点击“取消”，可以添加拒绝的逻辑\r\n          this.$message.error('视频通话请求已拒绝');\r\n        }\r\n      } else if (data[0] === 'ACCEPT_CALL') {\r\n        const [, call] = data;\r\n        this.$message.success(`${call} 接受了你的视频通话请求`);\r\n        setTimeout(() => {\r\n          this.$router.push({ name: 'chat', query: { user: userid, touser: call } });\r\n        }, 900); // 延迟 2000 毫秒 (2 秒)\r\n      }\r\n\r\n    };\r\n    function initiateVideoCall(id) {\r\n      ws.send(`CALL||${id}||${Username}`);\r\n      // Code to handle the video call logic\r\n    }\r\n    function updateTime() {\r\n      const minutes = Math.floor(seconds / 60).toString().padStart(2, '0');\r\n      const displaySeconds = (seconds % 60).toString().padStart(2, '0');\r\n      timeDisplay.textContent = `正在匹配 ${minutes}:${displaySeconds}`;\r\n      seconds++;\r\n    }\r\n\r\n\r\n    // Draw grid function\r\n    function drawGrid() {\r\n      document.body.appendChild(canvas);\r\n      for (let i = 0; i <= gridSize; i++) {\r\n        // Draw horizontal lines\r\n        ctx.beginPath();\r\n        ctx.moveTo(0, i * cellSize);\r\n        ctx.lineTo(canvas.width, i * cellSize);\r\n        ctx.stroke();\r\n\r\n        // Draw vertical lines\r\n        ctx.beginPath();\r\n        ctx.moveTo(i * cellSize, 0);\r\n        ctx.lineTo(i * cellSize, canvas.height);\r\n        ctx.stroke();\r\n      }\r\n    }\r\n    function drawPiece(x, y, color) {\r\n      ctx.beginPath();\r\n      const centerX = x * cellSize + cellSize / 2;\r\n      const centerY = y * cellSize + cellSize / 2;\r\n      ctx.arc(centerX, centerY, cellSize / 2 * 0.4, 0, Math.PI * 2);\r\n      ctx.fillStyle = color;\r\n      ctx.fill();\r\n      ctx.stroke();\r\n      if(color==='black'){\r\n        isBlackTurn=false;\r\n      }\r\n    }\r\n\r\n    function handleClick(event) {\r\n      // 将单引号替换为双引号\r\n      const correctedJsonString = gameInfo.replace(/'/g, '\"');\r\n\r\n\r\n      const data = JSON.parse(correctedJsonString);\r\n\r\n      if(data['play1']===Username){\r\n        const rect = canvas.getBoundingClientRect();\r\n        const x = Math.floor((event.clientX - rect.left) / cellSize);\r\n        const y = Math.floor((event.clientY - rect.top) / cellSize);\r\n\r\n\r\n        // Check if the cell is already occupied\r\n        if (board[y][x]) return;\r\n\r\n        // Place the piece\r\n        board[y][x] = isBlackTurn ? 'black' : 'white';\r\n        drawPiece(x, y, isBlackTurn ? 'black' : 'white');\r\n        const move_data={\r\n          \"type\": \"move\",\r\n          \"x\": x,\r\n          \"y\": y,\r\n          \"color\": isBlackTurn ? 'black' : 'white'\r\n        }\r\n        ws.send(`move||${JSON.stringify(move_data)}||${Username}||${correctedJsonString}`);\r\n        ws.send(`update||${correctedJsonString}`);\r\n\r\n        // Check for victory\r\n        if (checkWin(x, y)) {\r\n\r\n          // Optionally reset the board\r\n          board = Array(gridSize).fill(null).map(() => Array(gridSize).fill(null));\r\n          ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n          const element = document.getElementById('ls');\r\n          if (element) {\r\n            element.parentNode.removeChild(element);\r\n            ws.send(`GAME_OVER||${correctedJsonString}||${Username}`);\r\n\r\n          }\r\n        } else {\r\n          // Switch turn\r\n          isBlackTurn = !isBlackTurn;\r\n        }\r\n      }else{\r\n        alert('现在不是你的回合')\r\n      }\r\n    }\r\n\r\n\r\n\r\n    function checkWin(x, y) {\r\n      const color = board[y][x];\r\n      return (\r\n          checkDirection(x, y, 1, 0, color) || // Horizontal\r\n          checkDirection(x, y, 0, 1, color) || // Vertical\r\n          checkDirection(x, y, 1, 1, color) || // Diagonal \\\r\n          checkDirection(x, y, 1, -1, color)   // Diagonal /\r\n      );\r\n    }\r\n\r\n    function checkDirection(x, y, dx, dy, color) {\r\n      let count = 1;\r\n\r\n      // Check one direction\r\n      for (let i = 1; i < 5; i++) {\r\n        const nx = x + i * dx;\r\n        const ny = y + i * dy;\r\n        if (nx >= 0 && ny >= 0 && nx < gridSize && ny < gridSize && board[ny][nx] === color) {\r\n          count++;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n\r\n      // Check the opposite direction\r\n      for (let i = 1; i < 5; i++) {\r\n        const nx = x - i * dx;\r\n        const ny = y - i * dy;\r\n        if (nx >= 0 && ny >= 0 && nx < gridSize && ny < gridSize && board[ny][nx] === color) {\r\n          count++;\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n\r\n      return count >= 5;\r\n    }\r\n\r\n\r\n\r\n\r\n    ws.onclose = () => {\r\n      console.log('Disconnected from WebSocket server');\r\n    };\r\n\r\n    document.getElementById('sendMessage').addEventListener('click', () => {\r\n      const input = document.getElementById('messageInput');\r\n      const message = input.value;\r\n      const recipientId = input.getAttribute('data-recipient');\r\n      if (message && recipientId) {\r\n        ws.send(`MESSAGE||${recipientId}||${message}`);\r\n        input.value = '';\r\n        input.setAttribute('data-recipient', ''); // Clear recipient\r\n      }else{\r\n        ws.send(`ALL_MESSAGE||${Username}||${message}`);\r\n      }\r\n    });\r\n\r\n    document.getElementById('setName').addEventListener('click', () => {\r\n      const nameInput = document.getElementById('nameInput');\r\n      const name = nameInput.value;\r\n      if (name) {\r\n        ws.send(`SET_NAME||${name}`);\r\n        nameInput.value = '';\r\n        ws.send('LIST'); // Request to update user list after setting the name\r\n      }\r\n    });\r\n    document.getElementById('Match').addEventListener('click', () => {\r\n      if(Username){\r\n\r\n        ws.send(`GAME||Match||${Username}`);\r\n      }\r\n      else{\r\n        this.$message.error('请先设置用户名')\r\n\r\n      }\r\n\r\n    });\r\n    window.addEventListener('beforeunload', handleUnload);\r\n    function handleUnload() {\r\n\r\n      ws.send(`CLOSE||${userid}`);\r\n    }\r\n    document.getElementById('Close').addEventListener('click', () => {\r\n// 将单引号替换为双引号\r\n      const correctedJsonString = gameInfo.replace(/'/g, '\"');\r\n\r\n\r\n      const data = JSON.parse(correctedJsonString);\r\n\r\n      if(data['play1']===Username){\r\n        ws.send(`update||${gameInfo}`);\r\n      }\r\n      else{\r\n        this.$message.error('现在不是你的回合')\r\n      }\r\n\r\n\r\n\r\n    });\r\n  },\r\n    beforeUnmount() {\r\n\r\n\r\n    const element = document.getElementById('ls');\r\n    if (element) {\r\n      element.parentNode.removeChild(element);\r\n    }\r\n   }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n#messages {\r\n  border: 1px solid #ddd;\r\n  height: 300px;\r\n  overflow-y: scroll;\r\n}\r\n#messageInput {\r\n  width: 80%;\r\n}\r\n#sendMessage {\r\n  width: 20%;\r\n}\r\n.user-list {\r\n  margin-top: 10px;\r\n}\r\n.user {\r\n  cursor: pointer;\r\n  margin-bottom: 5px;\r\n}\r\n</style>\r\n","import { render } from \"./demo.vue?vue&type=template&id=9b3e6622&scoped=true\"\nimport script from \"./demo.vue?vue&type=script&lang=js\"\nexport * from \"./demo.vue?vue&type=script&lang=js\"\n\nimport \"./demo.vue?vue&type=style&index=0&id=9b3e6622&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9b3e6622\"]])\n\nexport default __exports__","<script >\r\nimport request from '../utils/request'\r\n\r\n\r\n\r\nexport default {\r\n  name: 'LoginView',\r\n  props: ['show'],\r\n  data() {\r\n    return {\r\n      from:{\r\n        username: '',\r\n        password: '',\r\n      },\r\n      emits: ['close-dialog'],\r\n\r\n      error: ''\r\n    }\r\n  },\r\n\r\n  methods: {\r\n\r\n    Login() {\r\n      request.post('/login',this.from).then(response => {\r\n        if (response.code === '1') {\r\n          this.$message.success('Login success')\r\n          const user = JSON.stringify(this.from);\r\n          localStorage.setItem('login_user', user);\r\n          this.$emit('close-dialog'); // 发送事件给父组件\r\n          this.$router.push('/')\r\n\r\n\r\n\r\n\r\n\r\n        }\r\n      else{\r\n        this.$message.error(response.message)\r\n        }})\r\n      //跳转到首页,并将username传递给首页\r\n      // router.push({ path: '/chat', query: { username: this.username } })\r\n\r\n\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<template>\r\n  <div class=\"login-container\">\r\n    <div class=\"login-form\" >\r\n      <h2>Login</h2>\r\n      <div class=\"form-group\">\r\n        <label for=\"username\">Username</label>\r\n        <input type=\"text\" id=\"username\" v-model=\"from.username\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <label for=\"password\">Password</label>\r\n        <input type=\"password\" id=\"password\" v-model=\"from.password\" />\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <button type=\"button\" class=\"btn btn-primary\" @click=\"Login()\">Login</button>\r\n      </div>\r\n      <div class=\"form-group\">\r\n        <p>{{ error }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<style scoped>\r\n.login-container {\r\n  max-width: 400px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n}\r\n.login-form {\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  border-radius: 5px;\r\n}\r\n.form-group {\r\n  margin-bottom: 10px;\r\n}\r\n.form-group label {\r\n  display: block;\r\n  margin-bottom: 5px;\r\n}\r\n.form-group input {\r\n  width: 100%;\r\n  padding: 10px;\r\n  border-radius: 5px;\r\n  border: 1px solid #ccc;\r\n}\r\n.form-group button {\r\n  background-color: #42b983;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 5px;\r\n  padding: 10px 20px;\r\n  cursor: pointer;\r\n}\r\n.form-group p {\r\n  color: red;\r\n  margin-top: 10px;\r\n}\r\n</style>","import axios from 'axios'\r\n\r\n// 创建一个axios对象出来\r\nconst request = axios.create({\r\n    baseURL: 'https://192.168.3.3:5701',\r\n\r\n})\r\n\r\n// request 拦截器\r\n// 可以自请求发送前对请求做一些处理\r\n// 比如统一加token，对请求参数统一加密\r\nrequest.interceptors.request.use(config => {\r\n    config.headers['Content-Type'] = 'application/json;charset=utf-8';\r\n\r\n    const user = localStorage.getItem(\"user\");\r\n    if (user) {\r\n        config.headers['token'] = JSON.parse(user).token;\r\n    }\r\n    \r\n    // config.headers['token'] = user.token;  // 设置请求头\r\n    return config\r\n}, error => {\r\n    return Promise.reject(error)\r\n});\r\n\r\n// response 拦截器\r\n// 可以在接口响应后统一处理结果\r\nrequest.interceptors.response.use(\r\n    response => {\r\n        // response.data即为后端返回的Result\r\n        let res = response.data;\r\n        // 兼容服务端返回的字符串数据\r\n        if (typeof res === 'string') {\r\n            res = res ? JSON.parse(res) : res\r\n        }\r\n        return res;\r\n    },\r\n    error => {\r\n        console.log('err' + error) // for debug\r\n        return Promise.reject(error)\r\n    }\r\n)\r\n\r\n\r\nexport default request","import { render } from \"./Login.vue?vue&type=template&id=53e4aed5&scoped=true\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\n\nimport \"./Login.vue?vue&type=style&index=0&id=53e4aed5&scoped=true&lang=css\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-53e4aed5\"]])\n\nexport default __exports__","import { createRouter, createWebHistory } from 'vue-router'\n\nimport Chat from \"@/views/Chat.vue\";\nimport Demo from \"@/views/demo.vue\";\nimport Login from \"@/views/Login.vue\";\n\n\n\n\nconst routes = [\n\n  {\n    path: '/',\n    name: 'login',\n    component: Login,\n  },\n  {\n    path: '/chat',\n    name: 'chat',\n    component: Chat,\n  },\n\n  {\n    path: '/demo',\n    name: 'demo',\n    component: Demo,\n\n  },\n  {\n    path: '/file',\n    name: 'file',\n    component: File,\n\n  },\n\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes\n})\n\n\nexport default router","import { createApp } from 'vue'\r\nimport ElementPlus from 'element-plus'\r\nimport 'element-plus/dist/index.css'\r\nimport App from './App.vue'\r\nimport axios from 'axios'\r\nimport * as ElementPlusIconsVue from '@element-plus/icons-vue'\r\n\r\n\r\nimport store from \"./utils/store\";\r\nimport router from \"@/router\";\r\n\r\n\r\n\r\nconst app = createApp(App)\r\n\r\napp.config.globalProperties.$axios = axios; // 将 Axios 添加到全局属性中\r\napp.config.globalProperties.$baseURL=process.env.VUE_APP_BASEUA\r\napp.config.globalProperties.$store=store\r\nfor (const [key, component] of Object.entries(ElementPlusIconsVue)) {\r\n    app.component(key, component)\r\n}\r\n\r\napp.use(router) // 使用自定义的路由插件\r\napp.use(store) // 使用 Vuex\r\napp.use(ElementPlus) // 使用 Element Plus 插件\r\n\r\n\r\napp.mount('#app')\r\n\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// define __esModule on exports\n__webpack_require__.r = function(exports) {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkhsq\"] = self[\"webpackChunkhsq\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(8653); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["id","_createElementBlock","_hoisted_1","_createVNode","_component_router_view","script","__exports__","render","store","createStore","state","isLoggedIn","mutations","SET_LOGGED_IN","login","logout","actions","commit","getters","_createElementVNode","_createStaticVNode","_component_el_input","modelValue","$data","socketUrl","_cache","$event","placeholder","_createTextVNode","_toDisplayString","name_list","userid","_component_el_button","type","onClick","$options","cn","this","default","_withCtx","_","openVideo","hangUp","_hoisted_2","name","data","socket","pc","localStream","methods","InitSocket","$route","query","user","ws","WebSocket","onclose","e","console","log","code","onopen","onerror","error","onmessage","async","obj","JSON","parse","event","userId","toString","InitPeerConnection","desc","RTCSessionDescription","setRemoteDescription","answer","createAnswer","setLocalDescription","send","stringify","candidate","RTCIceCandidate","sdpMLineIndex","sdpMid","addIceCandidate","your_id","targetUserId","peerconnection","window","webkitRTCPeerConnection","RTCPeerConnection","message","onicecandidate","evt","getTracks","forEach","track","addTrack","ontrack","remoteStream","streams","document","getElementById","srcObject","createOffer","then","offerMessage","sdp","catch","err","navigator","mediaDevices","getUserMedia","video","audio","stream","videoElement","play","hangUpMessage","touser","close","stop","$router","push","mounted","handleUnload","addEventListener","setTimeout","beforeUnmount","html","Username","gameInfo","timerId","board","canvas","ctx","piece","Math","round","random","createElement","width","height","getContext","gridSize","cellSize","strokeStyle","lineWidth","Array","fill","map","isBlackTurn","timeDisplay","seconds","initiateVideoCall","updateTime","minutes","floor","padStart","displaySeconds","textContent","drawGrid","body","appendChild","i","beginPath","moveTo","lineTo","stroke","drawPiece","x","y","color","centerX","centerY","arc","PI","fillStyle","handleClick","correctedJsonString","replace","rect","getBoundingClientRect","clientX","left","clientY","top","move_data","checkWin","clearRect","element","parentNode","removeChild","alert","checkDirection","dx","dy","count","nx","ny","split","length","warn","$message","success","senderId","messages","msg","scrollTop","scrollHeight","userList","innerHTML","users","userElement","className","userText","videoCallButton","onclick","messageInput","setAttribute","player","game","setInterval","clearInterval","winner","move_data_json","response","$confirm","call","input","value","recipientId","getAttribute","nameInput","class","for","_hoisted_3","_hoisted_4","_hoisted_5","from","username","_hoisted_6","_hoisted_7","password","_hoisted_8","Login","_hoisted_9","request","axios","create","baseURL","interceptors","use","config","headers","localStorage","getItem","token","Promise","reject","res","props","emits","post","setItem","$emit","routes","path","component","Chat","Demo","File","router","createRouter","history","createWebHistory","app","createApp","App","globalProperties","$axios","$baseURL","process","VUE_APP_BASEUA","$store","key","Object","entries","ElementPlusIconsVue","ElementPlus","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","deferred","O","result","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","keys","every","splice","r","n","getter","__esModule","d","a","definition","o","defineProperty","enumerable","get","g","globalThis","Function","prop","prototype","hasOwnProperty","Symbol","toStringTag","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}