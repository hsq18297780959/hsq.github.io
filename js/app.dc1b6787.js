(function(){var e={5969:function(e,t,l){"use strict";var a=l(9242),s=l(3056),i=(l(4415),l(3396));const o={id:"app"};function r(e,t,l,a,s,r){const n=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)("div",o,[(0,i.Wm)(n)])}var n={name:"App"},d=l(89);const u=(0,d.Z)(n,[["render",r]]);var m=u,p=l(1076),c=l(2748),h=l(2483);const g={id:"home"},f={class:"dialog-footer"},w={class:"dialog-footer"};function v(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-button"),d=(0,i.up)("el-table-column"),u=(0,i.up)("el-popconfirm"),m=(0,i.up)("el-table"),p=(0,i.up)("el-pagination"),c=(0,i.up)("el-form-item"),h=(0,i.up)("el-option"),v=(0,i.up)("el-select"),y=(0,i.up)("el-form"),b=(0,i.up)("el-dialog"),_=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)("div",g,[(0,i.Wm)(r,{modelValue:s.params.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.params.username=e),clearable:"",style:{width:"200px"},placeholder:"请输入用户名"},null,8,["modelValue"]),(0,i.Wm)(r,{modelValue:s.params.fullname,"onUpdate:modelValue":t[1]||(t[1]=e=>s.params.fullname=e),clearable:"",style:{width:"200px"},placeholder:"请输入真实姓名"},null,8,["modelValue"]),(0,i.Wm)(n,{onClick:t[2]||(t[2]=e=>o.findSearch())},{default:(0,i.w5)((()=>[(0,i.Uk)("查询")])),_:1}),(0,i.Wm)(n,{onClick:t[3]||(t[3]=e=>s.showDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("添加")])),_:1}),(0,i.Wm)(n,{onClick:t[4]||(t[4]=e=>o.exp())},{default:(0,i.w5)((()=>[(0,i.Uk)("导出用户表")])),_:1}),(0,i.wy)(((0,i.wg)(),(0,i.j4)(m,{data:s.items,style:{width:"100%"}},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{prop:"username",label:"用户名",width:"180"}),(0,i.Wm)(d,{prop:"fullname",label:"真实名",width:"180"}),(0,i.Wm)(d,{prop:"permission",label:"权限"}),(0,i.Wm)(d,{label:"操作"},{default:(0,i.w5)((e=>[(0,i.Wm)(n,{type:"success",plain:"",onClick:t=>o.getuser(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("修改")])),_:2},1032,["onClick"]),(0,i.Wm)(u,{onConfirm:t=>o.deleteItem(e.row),title:"Are you sure to delete this?"},{reference:(0,i.w5)((()=>[(0,i.Wm)(n,{id:"delete",type:"danger",plain:""},{default:(0,i.w5)((()=>[(0,i.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])),[[_,s.loading]]),(0,i.Wm)(p,{"current-page":s.params.pageNum,"onUpdate:currentPage":t[5]||(t[5]=e=>s.params.pageNum=e),"page-size":s.params.pageSize,"onUpdate:pageSize":t[6]||(t[6]=e=>s.params.pageSize=e),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:s.total,onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),(0,i.Wm)(b,{modelValue:s.dialogFormVisible,"onUpdate:modelValue":t[10]||(t[10]=e=>s.dialogFormVisible=e),title:"修改数据"},{footer:(0,i.w5)((()=>[(0,i._)("span",f,[(0,i.Wm)(n,{onClick:t[9]||(t[9]=e=>s.dialogFormVisible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1}),(0,i.Wm)(n,{type:"primary",onClick:o.update},{default:(0,i.w5)((()=>[(0,i.Uk)(" 修改 ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(y,{model:s.arrs},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"用户名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.arrs.username,"onUpdate:modelValue":t[7]||(t[7]=e=>s.arrs.username=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(c,{label:"权限","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{modelValue:s.arrs.permission,"onUpdate:modelValue":t[8]||(t[8]=e=>s.arrs.permission=e),placeholder:"Please select a zone"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{label:"管理员",value:"管理员"}),(0,i.Wm)(h,{label:"普通用户",value:"普通用户"})])),_:1},8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.Wm)(b,{modelValue:s.showDialog,"onUpdate:modelValue":t[15]||(t[15]=e=>s.showDialog=e),title:"添加数据"},{footer:(0,i.w5)((()=>[(0,i._)("span",w,[(0,i.Wm)(n,{onClick:t[14]||(t[14]=e=>s.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1}),(0,i.Wm)(n,{type:"primary",onClick:o.submit},{default:(0,i.w5)((()=>[(0,i.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(y,{model:s.arrs},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"用户名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.arrs.username,"onUpdate:modelValue":t[11]||(t[11]=e=>s.arrs.username=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(c,{label:"真实名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.arrs.fullname,"onUpdate:modelValue":t[12]||(t[12]=e=>s.arrs.fullname=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(c,{label:"权限","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{modelValue:s.arrs.permission,"onUpdate:modelValue":t[13]||(t[13]=e=>s.arrs.permission=e),placeholder:"Please select a zone"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{label:"管理员",value:"管理员"}),(0,i.Wm)(h,{label:"普通用户",value:"普通用户"})])),_:1},8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var y=l(65);const b=(0,y.MT)({state(){return{count:0,isLoading:!1}},mutations:{increment(e){e.count++},setResData(e,t){e.resData=t},setLoading(e,t){e.isLoading=t}}}),_=p.Z.create({baseURL:"https://hsq.org.cn:8090/hsq",timeout:5e3});_.interceptors.request.use((e=>{b.commit("setLoading",!0),e.headers["Content-Type"]="application/json;charset=utf-8";const t=localStorage.getItem("user");return t&&(e.headers["token"]=JSON.parse(t).token),e}),(e=>Promise.reject(e))),_.interceptors.response.use((e=>{let t=e.data;return"string"===typeof t&&(t=t?JSON.parse(t):t),b.commit("setLoading",!1),t}),(e=>(console.log("err"+e),Promise.reject(e))));var k=_,W={name:"user",data(){return{input:1,deleteuser:{username:""},loading:!0,params:{username:"",fullname:"",pageNum:1,pageSize:5},config:{globalProperties:{$axios:p.Z}},items:[],visible:!1,showDialog:!1,formLabelWidth:"30%",dialogFormVisible:!1,arrs:{},total:0}},methods:{async loadGet(){try{this.findSearch()}catch(e){console.error("Error fetching data:",e)}},modifyItem(e){this.arrs=e,this.dialogFormVisible=!0},findSearch(){k.post("/user/get",this.params).then((e=>{"1"===e.code?(this.items=e.data.list,this.total=e.data.total):this.$message({message:e.msg,type:"error"})}))},handleSizeChange(e){this.params.pageSize=e,this.findSearch()},handleCurrentChange(e){this.params.pageNum=e,this.findSearch()},getuser(e){this.arrs=e,this.dialogFormVisible=!0},update(){k.post("/user/save",this.arrs).then((e=>{"1"==e.code?(this.$message({message:"修改成功",type:"success"}),this.arrs={},this.dialogFormVisible=!1,this.findSearch()):this.$message({message:e.msg,type:"error"})}))},submit(){k.post("/user/save",this.arrs).then((e=>{"1"==e.code?(this.showDialog=!1,this.$message({message:"添加成功",type:"success"}),this.findSearch(),this.arrs={}):this.$message({message:e.msg,type:"error"})}))},deleteItem(e){this.deleteuser=e,k.get("/user/delete",{params:this.deleteuser}).then((e=>{"1"===e.code?(this.loadGet(),this.$message({message:"删除成功",type:"success"})):this.loadGet()}))},exp(){location.href="https://hsq.org.cn:8090/hsq/user/export"}},computed:{resLoading(){return b.state.isLoading}},mounted(){this.loading=this.resLoading,this.loadGet()}};const C=(0,d.Z)(W,[["render",v]]);var V=C,U=l(7139);const x={style:{position:"fixed",top:"60px","justify-content":"center","align-items":"center",width:"100%"}},S={class:"image-box",style:{position:"fixed",top:"90px"}},z={class:"image-container",style:{height:"100%",overflow:"auto"}},D={key:0},q={style:{clear:"both"}},L=["href"],N={style:{float:"left","margin-right":"10px",width:"230px",height:"200px",overflow:"hidden"}},A=["src","alt"],I={key:1},O=["href"],$=(0,i._)("br",null,null,-1);function T(e,t,l,a,s,o){const r=(0,i.up)("el-option"),n=(0,i.up)("el-select"),d=(0,i.up)("el-input"),u=(0,i.up)("el-button"),m=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",x,[(0,i.Wm)(n,{modelValue:s.img.type,"onUpdate:modelValue":t[0]||(t[0]=e=>s.img.type=e),placeholder:"请选择类型"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{label:"图片",value:"tupian"}),(0,i.Wm)(r,{label:"音频",value:"audio"})])),_:1},8,["modelValue"]),(0,i.Wm)(d,{modelValue:s.img.keyword,"onUpdate:modelValue":t[1]||(t[1]=e=>s.img.keyword=e)},null,8,["modelValue"]),(0,i.Wm)(u,{onClick:o.submit},{default:(0,i.w5)((()=>[(0,i.Uk)("提交")])),_:1},8,["onClick"]),(0,i.Wm)(u,{onClick:o.qingkong},{default:(0,i.w5)((()=>[(0,i.Uk)("清空")])),_:1},8,["onClick"])]),(0,i._)("div",S,[(0,i._)("div",z,["tupian"==s.Type?(0,i.wy)(((0,i.wg)(),(0,i.iD)("div",D,[(0,i._)("div",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.arr,(e=>((0,i.wg)(),(0,i.iD)("a",{key:e.img,href:e.img,class:"image-container",target:"_blank"},[(0,i._)("div",N,[(0,i._)("img",{src:e.img,alt:e.title},null,8,A)])],8,L)))),128))])])),[[m,s.loading]]):"audio"==s.Type?((0,i.wg)(),(0,i.iD)("div",I,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.arr,(e=>((0,i.wg)(),(0,i.iD)("a",{key:e.audio,href:e.audio,target:"_blank"},[(0,i.Uk)((0,U.zw)(e.title)+"--------------"+(0,U.zw)(e.audio),1),$],8,O)))),128))])):(0,i.kq)("",!0)])])],64)}var P={name:"Img",data(){return{img:{keyword:"你好",type:"tupian"},loading:b.state.isLoading,Type:"",arr:{}}},methods:{submit(){this.Type=this.img.type,k.post("/img/get",this.img).then((e=>{null!=e?"1"==e.code?this.arr=e.data:this.$message({message:e.msg,type:"error"}):this.$message({message:"网络错误，请重试",type:"error"})}))},qingkong(){this.arr={}}},mounted(){this.submit(),setTimeout((()=>{this.loading=!1}),3e3)}};const E=(0,d.Z)(P,[["render",T]]);var B=E,j="data:image/jpeg;base64,UklGRjoMAABXRUJQVlA4WAoAAAAQAAAAKwEA7wAAQUxQSAgLAAABsIXtvyFJ0u9EnGj3zjTHtq0L27Zt2/Ps2LZt27atdo/aqmrlOXG+i4yIjKqbiGVHxARolv9n+f8/uONYOnfsOV0kW3sYK231AzDkICNjaw1jpWVfBh88/LqHFMX1hZX6XAs+BVIHX20jxXE9EcXSkePAkZ06eH9DKY7rB2OlTb4FFyjoPbyypupHKy3+NLhAiz6FR9eI6wUj9bo0xXtKnA7fzClTIxjpwL/BUaIPTDnGyKg+NErehEag9dTBXXNIRrVCv2l4Wg8N+GgtKTGqF/qMIbTm4O/9JRsp38RRXAuMay31cGVvmVgFrSTZqH4IDXh5acmqYBzJXvTmqlJiagYHg7aTrFF+ZKXdhwN3zCnZqhV1iE+ZfmasOFa+SaTV3wXnAm2nxYriKmWsOiA4eGg+yaqglea6C1wKOBi8k2SjymSlxXuVFuDL9aTEKD+OFJ/WTvBkBgdvrSIlphJFsZIr/uwjU05gzOGSjZQfWWmHQeAomHq4Y07JVh+TSNsOYXTvshxHysbKN4m00hvQCBT3gbZTY0VxxbHSgk8Df/+jvCOUKN9KA24Gn9K6g8E7STaqMJGVTpuJd4zqgCNlc+JY5oRJ4Ck1OHhrVSkxVSWR1v8BHKFTGCtt/TM4Sk893DGnZCuK+t8LjUDnsNJyL4MLdKQPtJ8Wq6IeOZ7UQ6cwkfpeDz6lox38uktFAUdmZ9DhE8DRCUODmRXFp3QWq/OgESg3+GIERlcU8jvMagt8SsmeVgNjq12ibsPxlBscPDieUGxcteumU2lQroMvV0/qBdPzT9JSfMqko6Q5JtYK2h1HicHB3QMVqd+EeuFpfAkOvlpHsjXDUeo7mtCST5lyjGQjmXrhaK1BoMXg4N45pFiqG47RvvgWHHy9rpQY1Q/H6ixcIZ/SdpxkI2XWAQPGF7q6mIP755Ri5ZYxplKZOJEZW+AY3VzI8f16UmJUXsrEChVZSQOObxQ4VjcVcTwk2UhFjeYo5mBQVYqskbps9Wgb+U2XFnDcJ1kVT5QU8SnpRX0qUWRjSatcORxwxQ7O83wlRSocWUVXEMhMHTy6iKpqsT6SNP9xnwHeBYocrVXIDawlq8JW2mgQ2aEBH68jWVOBIvXe5dnpEFxKYceRsj+QNnneVKyiUaw+d4PLcDBibymOVFUL/b3pDaMA52m1SWfgmhynyRYwibTXOFIP4ANTz+4qE6u6FgAPeB9oPWPOdgLg2UlxXiwt/DI4gNTDXfNIVlW2EMEFSm3qpgtpZOyYZ6x0SgOXAsHBm6tKiVFlKr0pUbdhpOA4WzbDSmt8CQ4gwC/bSzZSxe001mqzppQvZJoiJVdDIwAEhp+QKIpVeTuPrO6kASmbyUqRdpqI92QGjpOsVY1g1GMkKSnfS0ZGm38BLs0AvttFkq0PZLURKTiulZWMtN3X4NKMFL7eVZKtDWR1Bw5StpeV4kja+zdwAcB7+HZ3SdbUBJH6jSeQMnluRZKsFB35B7gA4B18v6cka2oBJTocB46XMiQr9Th9ArgAkDr4YW9J1lSqkHrvXAlG0W+k4NhdtknGSn0vngaB5tTBT/sayVahNPXOuZRWC8jqSByk/NFLpkkyVprnJkdogtTBL/sbVaH8tuGfP3fjeW2Eloz6TyJAg+NlsyRjpdVmEDIgdfDz/hXI/fH1i7edvf/Gy83ZTZLGlqBYz+Ih5XOZPClWr3EFIG3gKo/n3Uj5xmrAuDKsjsUBhCUVFTAaMLEQgVEV6HVFsbU2joyRUZ9SYq1NCnj2kC3Ub0Ir4yrQG4qUX1akxTwBHGfVInO3Z11Wi8yTc0ktsniadVgNEmsdUoCwlKJC/WsJqyNw4PlIRoUG1BT3Njn2ly1gEvWaXEMYxb+R4vk1lsmz0vJvEqgdIq1MAM9mssqOjWa/DgL1g9W5OBrcLqvMyEqHjAVPDSF9S+r4tYtMk0mktT+HRqCGiLUOwTN1UcWSZKV5HgCX0nJ18Z3K6gFmwnpKJEWxotOmkXpKDIyqKKRp54m0sAuwixLJWGmbX8FRqqNRUZ6FRugsVjfg2VeJZKUlX4BGoMzUwy0VRdsMB9c5Is3XDnvJKo7U87KATykzOHhnFVXUWF0uBpd2BqsrYAfZyEr7/gWOUh0M3lmyFUVWWuYtaHRcpAWYsaGSRFrjA2gEyvSBttOsoliV1STSPmMIMzsq1stjFlQ3aeAd4FLKTD3cPqdkVWnjSLPdDLzeIbF2fL2LuknHTSZ4ygwO3lhZSoyqrpXW+pR3OkQ9dpekTb4HR6kOfttBspEqsLHSOU/JdEQ3SQs9AS5QpoPJJ0WKYlXkWOodqQNio67/bOA9ZaYebhkoWVVnE6twC0eom7TLcHCUGRy8uqKUGFVqU94x0gpvQCNQYnDw87aSjVThW9hHN4NLKdPBxOON4liVvlDgxaHgKNN7uKG/ZFXxjfqMziFAgzKDg5eWkxKj6tfX0cgiTSkxOPhhK8lGqgVPmkHqM0p1MP4YKY5VF877ELhQjvdwbV/Jqja00npfgSshdfD80pI1qhEjKx05geBbCA34bjPJGtWMsdTvFnBpEQdjj5DiWDVkIq3yHjRClk8JV80mWdWTkZX2+hMckDp4ZknJGtWWcaQel0IaPHyziWSNak0rLfEs8OfBUhyp7jSJtNMft/WWrP6/5uWPnb0+6TqJ++qTpeGl+mRzuLk+ORROrU8ugt3qkwdgrfrkfZirPhnJTFObxJ5Bqk0XgDc6U9S7V8bcPavZ2nCHFO343J9tXxzSwsJXfNfe9uP1yxXZ9qmphO/P7K5t079mq2R7wdla8WsyTy90wkwyw7VJ1tzvkD1iqQdh1Up2Buyz70wgTIMZ/QqcSsEX46aFRgKN30YBo4bCPJXsVngcGLpPr+hB2CNvyQa8tsmcs637FHCspJ4/Q9uJfaS1BwE0okr2Ms3395C0A5yVdxM8HKn5GLhf0s0wamk1z/sXMESV/Kema9W8JZybNxg/t7JPeGoJaRlPY3VlHwe8Xc3agRdMxt5wct5URqn4bXCZcvsC91SyfsD4uZR5KuydN4i0b6EuU5jRL0/D4LxKtjJwiLKvgY3yboXLC60Pj6vg23BgJdsOJvXIeRSWyVsxhfsXKHAOHFjkFdiokh0L1yv3PeiXp/MA/+ExA7MeheWKvAhLVrIrYau8Qcw0BXTcNIAZF3Rv+pLQpcjX0LeSPQEr5LUzQoXnv3wcwK/zSxrGBBWM2xmvSv4Z9MnpDZ8Uk5LNHwrwdSKN4u8iq8Ln1Ww0bcpdAp5uRdKqo2FvaQRTipwHT1WybvBj3npwU0a3Zz5cLE9bwTPSp9Avz/4B11SyxeHlvN3h7Iy14eoCdhpDpXtg57yjgRMr2cZwa94JcHDG/PBJgaTRtBe8nbNUG7BzJTsQzsq7HLbK0B+wft6O8ILUcxIcmrHs7wBrVLLzYJ+8B2CVrNNhwjpZsw+CgyWdBeHaRXuscsU0mueuZPfAennPwFJa9OkHu6v7D8Bjm/dW161+hL96SOr6Kfl/TKYRVbK3YeG8G+GlO9thJ2n+wTS3BcBtoub+H+S8Ne90hqmSf43rkreqp3nSgpJmvzeQ3batsuMjvpjBhOe20kB4t5odOPliFTzCA88uqMyFT35r2PTRn54+QIVjSVoVHqhmrS64zz6LqRPuABfVAZ31ODisPrkKtqxPHofl6pN3YEB98gV0q0/eg4H1yb2wWX2yP7wb1ya9x8GLy9Ul2hcIu9clOnYmXF6baNGL7pyzPpnl/1n+n+X/WZsGVlA4IAwBAACQGQCdASosAfAAPpFIokulpKOhpLroELASCWlu4XNBG/PcBmYGfE+J8T4nxPifEuZSfCWhGIDoHQOflsUmEqKM8TjOOSIIuJcS4DGrngHj2RJRLJNGIDl1DXEa3V4HQOgcuoa4jW6vA6B0Dl1DXEa3V4HQOgcs1O3rUVzIw90M3JuTcmoMus07UmhlgIz1Az4nxPifCF+gYw37iE5SaMQHQOfqTBRWstS4lxLiWPYxyEmks3WnbWSaMQHQOWbTc9UEXEuJcS4mEgRcS4lxLiXEuJcSxAAA/v8Z7kvl91rlXdPlf/96Wth5qfxu/2eA/UXKrgRXfj/v+wP4V7d+Y/T8WFCdLOwiIAAAAAAA";const F=(0,i.uE)('<div id="player"><div class="music-player"><br><br><br><audio id="Audio" src="https://api.vvhan.com/api/rand.music?sort=热歌榜"></audio><div id="create-and-play-btn">切换音乐</div><img id="myImage" width="40px" src="https://api-storage.4ce.cn/v1/b137d74f2935897517e9b225e021711b.jpg"><div id="stopbutton">停止播放</div></div></div>',1),R={class:"page-wrapper"},H={style:{display:"flex","justify-content":"space-between"}},J=(0,i._)("div",{style:{width:"1%"}},[(0,i._)("img",{src:j,height:"48",width:"60"})],-1),K={style:{width:"3%","margin-top":"10px","margin-bottom":"10px","margin-right":"10px"}},Z={class:"dialog-footer"};function X(e,t,l,a,s,o){const r=(0,i.up)("UserFilled"),n=(0,i.up)("el-icon"),d=(0,i.up)("el-dropdown-item"),u=(0,i.up)("el-dropdown-menu"),m=(0,i.up)("el-dropdown"),p=(0,i.up)("el-input"),c=(0,i.up)("el-form-item"),h=(0,i.up)("el-form"),g=(0,i.up)("el-button"),f=(0,i.up)("el-dialog"),w=(0,i.up)("el-header"),v=(0,i.up)("el-container"),y=(0,i.up)("Menu"),b=(0,i.up)("el-scrollbar"),_=(0,i.up)("el-aside"),k=(0,i.up)("router-view"),W=(0,i.up)("el-main");return(0,i.wg)(),(0,i.iD)(i.HY,null,[F,(0,i._)("div",R,[(0,i.Wm)(v,null,{default:(0,i.w5)((()=>[(0,i.Wm)(w,{class:"fixed-header",style:{"background-color":"aquamarine",height:"40px","margin-right":"0","z-index":"1"}},{default:(0,i.w5)((()=>[(0,i._)("div",H,[J,(0,i._)("div",K,[(0,i.Wm)(m,null,{dropdown:(0,i.w5)((()=>[(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i._)("div",{onClick:t[0]||(t[0]=e=>s.Showpassword=!0)},"修改密码")])),_:1})])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i._)("div",{onClick:t[1]||(t[1]=(...e)=>o.getbackground&&o.getbackground(...e))},"切换壁纸")])),_:1})])),_:1}),(0,i.Wm)(u,null,{default:(0,i.w5)((()=>[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i._)("div",{onClick:t[2]||(t[2]=(...e)=>o.logout&&o.logout(...e))},"退出登录")])),_:1})])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("span",null,[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1}),(0,i.Uk)((0,U.zw)(s.user.username),1)])])),_:1})])]),(0,i.Wm)(f,{modelValue:s.Showpassword,"onUpdate:modelValue":t[7]||(t[7]=e=>s.Showpassword=e),title:"修改密码"},{footer:(0,i.w5)((()=>[(0,i._)("span",Z,[(0,i.Wm)(g,{onClick:t[6]||(t[6]=e=>s.Showpassword=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1}),(0,i.Wm)(g,{type:"primary",onClick:o.submit},{default:(0,i.w5)((()=>[(0,i.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(h,{model:s.u},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{type:"password",label:"原始密码","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:s.u.oldpassword,"onUpdate:modelValue":t[3]||(t[3]=e=>s.u.oldpassword=e),autocomplete:"off",type:"password"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(c,{label:"新密码","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:s.u.newpassword,"onUpdate:modelValue":t[4]||(t[4]=e=>s.u.newpassword=e),autocomplete:"off",type:"password"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(c,{label:"确认新密码","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:s.u.confirmpassword,"onUpdate:modelValue":t[5]||(t[5]=e=>s.u.confirmpassword=e),autocomplete:"off",type:"password"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])])),_:1})])),_:1}),(0,i.Wm)(v,null,{default:(0,i.w5)((()=>[(0,i.Wm)(_,null,{default:(0,i.w5)((()=>[(0,i.Wm)(b,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y)])),_:1})])),_:1}),(0,i.Wm)(W,{style:{"z-index":"0"}},{default:(0,i.w5)((()=>[(0,i.Wm)(k)])),_:1})])),_:1})])],64)}l(560);function Q(e,t,l,a,s,o){const r=(0,i.up)("House"),n=(0,i.up)("el-icon"),d=(0,i.up)("el-menu-item"),u=(0,i.up)("Setting"),m=(0,i.up)("el-sub-menu"),p=(0,i.up)("el-menu");return(0,i.wg)(),(0,i.j4)(p,{"default-active":e.$route.path,router:""},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{index:"/qhome"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1}),(0,i.Uk)("前台主页")])),_:1}),(0,i.Wm)(d,{index:"/home"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r)])),_:1}),(0,i.Uk)("后台主页")])),_:1}),"管理员"==s.user.permission?((0,i.wg)(),(0,i.j4)(m,{key:0,index:"1"},{title:(0,i.w5)((()=>[(0,i.Wm)(n,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u)])),_:1}),(0,i.Uk)("信息管理 ")])),default:(0,i.w5)((()=>[(0,i.Wm)(d,{index:"/user"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 用户信息管理 ")])),_:1}),(0,i.Wm)(d,{index:"/noveltype"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 小说类型管理 ")])),_:1}),(0,i.Wm)(d,{index:"/read"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 小说信息管理 ")])),_:1}),(0,i.Wm)(d,{index:"/chaptertable"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 小说章节信息管理 ")])),_:1}),(0,i.Wm)(d,{index:"/comment"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 评论信息 ")])),_:1}),(0,i.Wm)(d,{index:"/carouselChart"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 轮播图信息 ")])),_:1})])),_:1})):(0,i.kq)("",!0),(0,i.Wm)(m,{index:"2"},{title:(0,i.w5)((()=>[(0,i.Uk)(" 其他功能 ")])),default:(0,i.w5)((()=>[(0,i.Wm)(d,{index:"/gpt"},{default:(0,i.w5)((()=>[(0,i.Uk)(" ChatGpt ")])),_:1}),(0,i.Wm)(d,{index:"/img"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 图片音频下载 ")])),_:1}),(0,i.Wm)(d,{index:"/message"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 用户留言 ")])),_:1}),(0,i.Wm)(d,{index:"/reads"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 小说 ")])),_:1}),(0,i.Wm)(d,{index:"/write"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 写小说 ")])),_:1})])),_:1}),(0,i.Wm)(d,{index:"/logview"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 日志 ")])),_:1})])),_:1},8,["default-active"])}var M={name:"Menu",data(){return{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}}};const G=(0,d.Z)(M,[["render",Q]]);var Y=G,ee={name:"LayOut",components:{Menu:Y},data(){return{redommusic:null,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},formLabelWidth:"30%",u:{oldpassword:"",newpassword:"",confirmpassword:""},form:{},Showpassword:!1,passwordMatch:!1,backgrounds:""}},methods:{logout(){k.post("/onlineusers/delete",this.user),localStorage.removeItem("user"),localStorage.clear(),di.push("/")},equal(){this.u.newpassword==this.u.confirmpassword?(this.form.password=this.u.newpassword,this.form.token=null,k.post("/user/save",this.form).then((e=>{"1"==e.code?(this.$message({message:"修改成功，请重新登录",type:"success"}),this.u={},k.post("/onlineusers/delete",this.user),di.push("/")):this.$message({message:e.msg,type:"error"})}))):this.$message({message:"确认密码与新密码不同",type:"error"})},getredommusic(){k.get("/music/redommusic").then((e=>{this.redommusic=e.data[0].url;const t=document.getElementById("Audio");t.src=this.redommusic}))},getmusic(){const e=document.querySelector(".music-player"),t=document.getElementById("create-and-play-btn"),l=document.getElementById("myImage"),a=document.getElementById("stopbutton");let s,i=!1;t.addEventListener("click",(()=>{s?k.get("/music/redommusic").then((t=>{s.pause(),e.removeChild(s),s=document.createElement("audio"),s.src=t.data[0].url,e.insertBefore(s,l),s.play(),i=!0,s.addEventListener("play",(()=>{i=!0,l.classList.toggle("rotate")})),s.addEventListener("pause",(()=>{i=!1,l.classList.toggle("rotate"),a.addEventListener("click",(()=>{i?s.pause():s.play()}))}))})):k.get("/music/redommusic").then((t=>{this.redommusic=t.data[0].url,s=document.createElement("audio"),s.src=t.data[0].url,e.appendChild(s),s.play(),i=!0,s.addEventListener("play",(()=>{i=!0,l.classList.toggle("rotate")})),s.addEventListener("pause",(()=>{i=!1,l.classList.toggle("rotate"),a.addEventListener("click",(()=>{i?s.pause():s.play()}))}))}))}))},getbackground(){location.reload()},submit(){this.form=this.user,this.u.oldpassword==this.form.password?this.equal():this.$message({message:"原密码错误",type:"error"})}},mounted(){"/LayOut"==di.getRoutes()&&di.push("/home");var e=document.getElementById("player");e.addEventListener("mouseenter",(function(){e.style.left="0"})),e.addEventListener("mouseleave",(function(){e.style.left="-80px"})),this.getmusic()},beforeUnmount(){k.post("/onlineusers/delete",this.user)}};const te=(0,d.Z)(ee,[["render",X]]);var le=te;const ae=e=>((0,i.dD)("data-v-d3c09f98"),e=e(),(0,i.Cn)(),e),se={class:"box"},ie={key:0,class:"container"},oe=ae((()=>(0,i._)("h1",null,[(0,i._)("p",null,"登录")],-1))),re=ae((()=>(0,i._)("img",{src:j,height:"48",width:"60"},null,-1))),ne=ae((()=>(0,i._)("br",null,null,-1))),de=ae((()=>(0,i._)("br",null,null,-1))),ue=ae((()=>(0,i._)("a",{href:"/codelogin"},"扫码登录",-1))),me={key:1,class:"container"},pe=ae((()=>(0,i._)("h1",null,[(0,i._)("p",null,"注册")],-1))),ce={key:0,style:{color:"red","font-size":"12px"}},he=ae((()=>(0,i._)("img",{src:j,height:"48",width:"60"},null,-1))),ge=ae((()=>(0,i._)("p",null,null,-1)));function fe(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-form-item"),d=(0,i.up)("el-form"),u=(0,i.up)("el-button");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",se,["LOGIN"==s.Type?((0,i.wg)(),(0,i.iD)("div",ie,[oe,(0,i.Wm)(d,{model:s.input,"label-width":"80px"},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{label:"用户名",prop:"username"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.input.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.input.username=e),autocomplete:"off"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(n,{label:"密码",prop:"password"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.input.password,"onUpdate:modelValue":t[1]||(t[1]=e=>s.input.password=e),type:"password",autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"]),(0,i.Wm)(u,{onClick:o.Ifonline},{default:(0,i.w5)((()=>[(0,i.Uk)("登"),re,(0,i.Uk)("录")])),_:1},8,["onClick"]),ne,(0,i._)("a",{style:{color:"blue"},onClick:t[2]||(t[2]=(...e)=>o.getType&&o.getType(...e))},"没有账号，点击此处去注册"),de,(0,i.Uk)(),ue])):(0,i.kq)("",!0),"REGISTER"==s.Type?((0,i.wg)(),(0,i.iD)("div",me,[pe,(0,i.Wm)(n,{label:"用户名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.register.username,"onUpdate:modelValue":t[3]||(t[3]=e=>s.register.username=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(n,{label:"密码","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.register.password,"onUpdate:modelValue":t[4]||(t[4]=e=>s.register.password=e),type:"password",onChange:o.v,autocomplete:"off"},null,8,["modelValue","onChange"]),s.error?((0,i.wg)(),(0,i.iD)("span",ce,"密码必须为6-16位数字或字母")):(0,i.kq)("",!0)])),_:1},8,["label-width"]),(0,i.Wm)(n,{label:"真实名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.register.fullname,"onUpdate:modelValue":t[5]||(t[5]=e=>s.register.fullname=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(u,{onClick:o.regist},{default:(0,i.w5)((()=>[(0,i.Uk)("注"),he,(0,i.Uk)("册")])),_:1},8,["onClick"]),ge,(0,i._)("a",{style:{color:"blue"},onClick:t[6]||(t[6]=(...e)=>o.getType&&o.getType(...e))},"以有账号，点击此处去登录")])):(0,i.kq)("",!0)])])}var we={name:"login",data(){return{captchaUrl:"",key:"",input:{username:"",password:""},register:{username:"",password:"",fullname:""},Type:"LOGIN",formLabelWidth:"30%",error:!1}},methods:{v(){let e=/^(?![0-9]+$)[0-9A-Za-z|a-zA-Z]{6,16}$/;return e.test(this.register.password)?(this.error=!1,!0):(this.error=!0,!1)},login(){""==this.input.username|""==this.input.password?this.$message({message:"账号或密码不能为空",type:"error"}):k.post("/user/login",this.input).then((e=>{1==e.code?(this.$message({message:"登录成功",type:"success"}),k.post("/onlineusers/save",this.input),localStorage.setItem("user",JSON.stringify(e.data)),this.$router.push("/LayOut")):this.$message({message:e.msg,type:"error"})}))},Ifonline(){k.post("/onlineusers/getonline",this.input).then((e=>{"1"==e.code?this.login():this.$message({message:e.msg,type:"error"})}))},getType(){"LOGIN"==this.Type?(this.Type="REGISTER",this.$message({message:"请注册",type:"success"})):(this.Type="LOGIN",this.$message({message:"请登录",type:"success"}))},regist(){""==this.register.username|""==this.register.password?this.$message({message:"账号或密码不能为空",type:"error"}):k.post("/user/regist",this.register).then((e=>{1==e.code?(this.$message({message:"注册成功,请登录",type:"success"}),this.register={},this.Type="LOGIN"):this.$message({message:e.msg,type:"error"})}))}},mounted(){}};const ve=(0,d.Z)(we,[["render",fe],["__scopeId","data-v-d3c09f98"]]);var ye=ve;const be=e=>((0,i.dD)("data-v-11792d22"),e=e(),(0,i.Cn)(),e),_e={class:"common-layout"},ke={class:"main-content",style:{width:"77%",height:"85%","margin-bottom":"80%"},ref:"mainContent"},We={style:{"text-align":"center",position:"fixed",top:"60px",width:"100%",right:"0px"}},Ce={style:{clear:"both"}},Ve=be((()=>(0,i._)("br",null,null,-1))),Ue=be((()=>(0,i._)("br",null,null,-1))),xe={key:1,style:{"background-color":"white"}},Se=be((()=>(0,i._)("br",null,null,-1))),ze={style:{top:"82%",left:"20%",position:"fixed","z-index":"999"}},De={class:"footer-content"},qe={class:"foot"},Le={class:"getimg"},Ne=be((()=>(0,i._)("span",{id:"startlisten"},"按住'左Ctrl'开始录音",-1))),Ae=be((()=>(0,i._)("br",null,null,-1))),Ie=be((()=>(0,i._)("br",null,null,-1))),Oe={class:"subimbutton"};function $e(e,t,l,a,s,o){const r=(0,i.up)("el-badge"),n=(0,i.up)("el-menu-item"),d=(0,i.up)("el-menu"),u=(0,i.up)("el-scrollbar"),m=(0,i.up)("el-aside"),p=(0,i.up)("el-text"),c=(0,i.up)("el-image"),h=(0,i.up)("el-link"),g=(0,i.up)("el-main"),f=(0,i.up)("Picture"),w=(0,i.up)("el-icon"),v=(0,i.up)("el-upload"),y=(0,i.up)("Files"),b=(0,i.up)("el-button"),_=(0,i.up)("el-popover"),k=(0,i.up)("el-input"),W=(0,i.up)("el-footer"),C=(0,i.up)("el-container");return(0,i.wg)(),(0,i.iD)("div",_e,[(0,i.Wm)(C,null,{default:(0,i.w5)((()=>[(0,i.Wm)(m,{width:"20%",class:"scrollable-aside"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{style:{"background-color":"transparent"}},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.from,(e=>((0,i.wg)(),(0,i.j4)(d,{key:e.username},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{onClick:t=>{o.receiveMessages(e.id),s.value=e.username}},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(r,{value:s.notread[e.id]||"",class:"item",offset:[-10,25]},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(e.username),1)])),_:2},1032,["value"])])])),_:2},1032,["onClick"])])),_:2},1024)))),128))])),_:1})])),_:1}),(0,i.Wm)(C,null,{default:(0,i.w5)((()=>[(0,i.Wm)(g,{style:{position:"fixed",top:"200px"}},{default:(0,i.w5)((()=>[(0,i._)("div",ke,[(0,i._)("div",We,"你正在和"+(0,U.zw)(s.value)+"聊天",1),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.messages,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,style:{"text-align":"left",top:"100px"}},[(0,i._)("div",Ce,[(0,i._)("p",{class:"p",style:(0,U.j5)("padding: 8px; float: "+(e.sender==this.user.id?"right":"left")+"; display: block;background-color:"+(e.sender==this.user.id?"lawngreen":"#7c989f"))},[(0,i.Wm)(p,{style:{color:"black"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(e.message),1)])),_:2},1024),Ve,e.img?((0,i.wg)(),(0,i.j4)(c,{key:0,style:{width:"100px",height:"120px"},src:"https://hsq.org.cn:8090/hsq/file/"+e.img,"preview-src-list":o.getPreviewSrcList(e.img)},null,8,["src","preview-src-list"])):(0,i.kq)("",!0),Ue,e.file?((0,i.wg)(),(0,i.iD)("span",xe,[(0,i.Wm)(p,null,{default:(0,i.w5)((()=>[(0,i.Uk)("文件")])),_:1}),Se,(0,i.Wm)(p,{id:"fname",onClick:l=>o.getfilename(e.file,t)},{default:(0,i.w5)((()=>[(0,i.Uk)("文件")])),_:2},1032,["onClick"]),(0,i.Uk)("    "),(0,i.Wm)(h,{type:"primary",href:"https://hsq.org.cn:8090/hsq/file/"+e.file},{default:(0,i.w5)((()=>[(0,i.Uk)("下载")])),_:2},1032,["href"])])):(0,i.kq)("",!0)],4)])])))),128))],512),(0,i._)("div",ze,[(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.customFileList,(e=>((0,i.wg)(),(0,i.iD)("li",{key:e.uid},(0,U.zw)(e.type)+"  "+(0,U.zw)(e.name),1)))),128))])])])),_:1}),(0,i.Wm)(W,null,{default:(0,i.w5)((()=>[(0,i._)("div",De,[(0,i._)("div",qe,[(0,i._)("div",Le,[(0,i.Wm)(_,{placement:"top",width:160,style:{"align-items":"center"}},{reference:(0,i.w5)((()=>[(0,i.Wm)(b,{onClick:t[0]||(t[0]=t=>e.visible=!0),size:"small"},{default:(0,i.w5)((()=>[(0,i.Uk)("选择文件")])),_:1})])),default:(0,i.w5)((()=>[Ne,Ae,(0,i._)("div",null,[(0,i.Wm)(v,{ref:"imgRef",class:"avatar-uploader",action:"https://hsq.org.cn:8090/hsq/file/imgupload","show-file-list:false":"","on-success":o.handleAvatarSuccess,"before-upload":o.beforeAvatarUpload,limit:1,"on-exceed":o.handleExceed},{trigger:(0,i.w5)((()=>[(0,i._)("span",null,[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(f)])),_:1}),(0,i.Uk)(" 选择图片 ")])])),_:1},8,["on-success","before-upload","on-exceed"])]),(0,i._)("div",null,[(0,i.Wm)(v,{ref:"fileRef",class:"avatar-uploader",action:"https://hsq.org.cn:8090/hsq/file/fileupload","show-file-list:false":"","on-success":o.fileSuccess,limit:1,"on-exceed":o.handleExceed},{trigger:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i._)("span",null,[(0,i.Wm)(w,null,{default:(0,i.w5)((()=>[(0,i.Wm)(y)])),_:1}),(0,i.Uk)(" 选择文件 ")]),Ie])])),_:1},8,["on-success","on-exceed"])])])),_:1})]),(0,i.Wm)(k,{modelValue:s.receiveuser.message,"onUpdate:modelValue":t[1]||(t[1]=e=>s.receiveuser.message=e),id:"input",placeholder:"输入不能超过50字"},null,8,["modelValue"]),(0,i._)("div",Oe,[(0,i.Wm)(b,{onClick:o.send,style:{"background-color":"lawngreen"}},{default:(0,i.w5)((()=>[(0,i.Uk)("send")])),_:1},8,["onClick"])])])])])),_:1})])),_:1})])),_:1})])}var Te={name:"Message",data(){return{notread:"",from:{},value:"",messages:[],params:{username:"",fullname:"",pageNum:1,pageSize:500},receiveuser:{data:"",receiver:"",message:"",sender:"",img:"",file:""},Selectimage:!1,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},web:{},customFileList:[],filelink:"",list:[]}},methods:{getusers(){k.post("/user/get",this.params).then((e=>{if("1"===e.code){this.from=e.data.list;const t={users:this.from,user:this.user};k.post("/msg/g",t).then((e=>{this.notread=e.data,console.log(this.notread["hsq"])}))}else this.$message({message:e.msg,type:"error"})}))},getPreviewSrcList(e){return["https://hsq.org.cn:8090/hsq/file/"+e]},beforeAvatarUpload(e){const t="image/jpeg"===e.type||"image/png"===e.type,l=e.size/1024/1024<3;return t?!!l||(this.$message.error("上传头像图片大小不能超过 3MB!"),!1):(this.$message.error("上传头像图片只能是 JPG 或 PNG 格式!"),!1)},getfilename(e,t){const l=this.messages;let a=t;for(let s=0;s<=t;s++)l[s].file||(a-=1);setTimeout((()=>{const t="https://hsq.org.cn:8090/hsq/file/"+e,l=document.querySelectorAll("#fname");fetch(t).then((e=>{const t=e.headers.get("content-disposition"),[,s]=t.split(";").map((e=>e.trim())),i=decodeURIComponent(s),o=i.substring(i.indexOf("=")+1);l[a].textContent=o}))}),300)},handleExceed(){this.$message.error("上传文件数量不能超过1!")},receiveMessages(e){this.receiveuser.receiver=e,this.web.readyState===WebSocket.OPEN&&this.web.close();const t="ws://localhost:8090/chat/"+this.user.id+"/"+e;var l=new WebSocket(t);const a=this.user.id,s=e;this.web=l,this.web.onopen=function(){console.log("连接成功")},this.getcon(a,s),k.post("/msg/readed?toUser="+a+"&FromUser="+s),this.getusers();const i=this.$refs.mainContent;this.web.onmessage=()=>{this.l(),this.getusers(),setTimeout((function(){i.scrollTop=i.scrollHeight}),100)},this.web.onerror=function(){},this.web.onclose=function(){console.log("WebSocket Connection Closed")},k.post("/msg/getmessage",this.receiveuser).then((e=>{"1"===e.code?this.messages=e.data:(this.receiveuser.receiver="",this.$message({message:e.msg,type:"error"}))}))},l(){k.post("/msg/getmessage",this.receiveuser).then((e=>{"1"===e.code?this.messages=e.data:(this.receiveuser.receiver="",this.$message({message:e.msg,type:"error"}))}))},handleAvatarSuccess(e,t){t.type="图片",this.customFileList.push(t),this.receiveuser.img=e.data},fileSuccess(e,t){this.fileurl="https://hsq.org.cn:8090/hsq/file/"+e.data,t.type="文件",this.customFileList.push(t),this.receiveuser.file=e.data},send(){const e=this.$refs.mainContent;if(""!=this.receiveuser.message){const e=new Date;this.receiveuser.data=e.toLocaleString();var t=JSON.stringify(this.receiveuser.message);this.web.send(t),this.$refs.imgRef.clearFiles(),this.$refs.fileRef.clearFiles(),k.post("/msg/save",this.receiveuser).then((e=>{"1"===e.code?(this.$message({message:"发送成功",type:"success"}),this.receiveuser.message="",this.receiveuser.img="",this.customFileList=[],this.receiveuser.file="",this.receiveMessages(this.receiveuser.receiver)):this.$message({message:e.msg,type:"error"})}))}else this.$message({message:"输入框不能为空",type:"error"});setTimeout((function(){e.scrollTop=e.scrollHeight}),100)},chehui(e){k.get("/msg/delete",e).then((e=>{"1"===e.code?this.from=e.data.list:this.$message({message:e.msg,type:"error"})}))},listenstart(){setTimeout((()=>{const e=new window.webkitSpeechRecognition;e.lang="zh-CN";let t=!1;const l=document.getElementById("input"),a=document.getElementById("startlisten");document.addEventListener("keydown",(function(l){"ControlLeft"!==l.code||t||(setTimeout((()=>{e.start()}),500),a.textContent="正在录音",t=!0)})),document.addEventListener("keyup",(function(l){"ControlLeft"===l.code&&t&&(e.stop(),a.textContent="按'左Ctrl'开始录音",t=!1)})),e.onresult=e=>{const t=e.results[0][0].transcript;console.log("识别结果:",t),this.receiveuser.message+=t,l.value+=t},e.onerror=function(e){console.error("语音识别错误:",e.error)},e.onend=function(){console.log("语音识别结束")}}),1e3)},getcon(e,t){this.obj={[e]:t},this.list.push(this.obj);const l=this.list.findIndex((l=>l[e]===t));-1!==l&&(this.list[l][e]=this.obj[e])}},watch:{messages:{deep:!0,handler(e){e.forEach((e=>{null!=e.file&&setTimeout((()=>{const e=document.querySelectorAll("#fname");e.forEach((e=>{e.click()}))}),400)}))}}},mounted(){this.getusers(),this.receiveuser.sender=this.user.id,this.listenstart()}};const Pe=(0,d.Z)(Te,[["render",$e],["__scopeId","data-v-11792d22"]]);var Ee=Pe;const Be={class:"image-container"},je={style:{display:"flex","justify-content":"center"}},Fe=(0,i._)("div",{class:"el-upload__text"},[(0,i.Uk)(" Drop file here or "),(0,i._)("em",null,"click to upload")],-1),Re=(0,i._)("div",{class:"el-upload__tip"}," jpg/png files with a size less than 500kb ",-1),He={class:"dialog-footer"},Je={class:"dialog-footer"};function Ke(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-button"),d=(0,i.up)("el-table-column"),u=(0,i.up)("el-image"),m=(0,i.up)("el-popover"),p=(0,i.up)("el-checkbox"),c=(0,i.up)("el-popconfirm"),h=(0,i.up)("el-table"),g=(0,i.up)("el-pagination"),f=(0,i.up)("el-dialog"),w=(0,i.up)("el-upload"),v=(0,i.up)("el-form-item"),y=(0,i.up)("el-form"),b=(0,i.up)("el-option"),_=(0,i.up)("el-select");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(r,{modelValue:s.params.username,"onUpdate:modelValue":t[0]||(t[0]=e=>s.params.username=e),clearable:"",style:{width:"200px"},placeholder:"请输入作者名"},null,8,["modelValue"]),(0,i.Wm)(r,{modelValue:s.params.title,"onUpdate:modelValue":t[1]||(t[1]=e=>s.params.title=e),clearable:"",style:{width:"200px"},placeholder:"请输入小说名"},null,8,["modelValue"]),(0,i.Wm)(n,{onClick:t[2]||(t[2]=e=>o.findSearch())},{default:(0,i.w5)((()=>[(0,i.Uk)("查询")])),_:1}),(0,i.Wm)(n,{onClick:t[3]||(t[3]=e=>s.showDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("添加")])),_:1}),(0,i.Wm)(h,{data:s.items,align:"center"},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{prop:"username",label:"作者名",width:"110px",align:"center"}),(0,i.Wm)(d,{prop:"title",label:"小说名",width:"110px",align:"center"}),(0,i.Wm)(d,{label:"封面",align:"center"},{default:(0,i.w5)((e=>[(0,i._)("div",Be,[(0,i.Wm)(u,{style:{height:"100px"},src:"https://hsq.org.cn:8090/hsq/file/"+e.row.cover,fit:"contain"},null,8,["src"])])])),_:1}),(0,i.Wm)(d,{prop:"typeName",label:"类型",width:"70px",align:"center",sortable:""}),(0,i.Wm)(d,{label:"简介",width:"60px",align:"center"},{default:(0,i.w5)((e=>[(0,i.Wm)(m,{placement:"top-start",title:"简介",width:200,trigger:"hover",content:e.row.description},{reference:(0,i.w5)((()=>[(0,i.Wm)(n,{class:"m-2"},{default:(0,i.w5)((()=>[(0,i.Uk)("...")])),_:1})])),_:2},1032,["content"])])),_:1}),(0,i.Wm)(d,{label:"是否通过",width:"80px",align:"center"},{default:(0,i.w5)((e=>[(0,i.Wm)(p,{modelValue:e.row.ifopen,"onUpdate:modelValue":t=>e.row.ifopen=t,"true-label":"true"},null,8,["modelValue","onUpdate:modelValue"]),(0,i._)("span",null,(0,U.zw)("true"===e.row.ifopen?"已通过":"未通过"),1)])),_:1}),(0,i.Wm)(d,{label:"操作",align:"center"},{default:(0,i.w5)((e=>[(0,i._)("div",je,[(0,i.Wm)(n,{size:"small",onClick:t=>o.getuser(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("修改")])),_:2},1032,["onClick"]),(0,i.Wm)(c,{onConfirm:t=>o.inspect(e.row),title:"是否进行该操作"},{reference:(0,i.w5)((()=>[(0,i.Wm)(n,{size:"small"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)("true"===e.row.ifopen?"撤销通过":"通过"),1)])),_:2},1024)])),_:2},1032,["onConfirm"]),(0,i.Wm)(n,{size:"small",onClick:t=>o.show(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("查看")])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),(0,i.Wm)(g,{"current-page":s.params.pageNum,"onUpdate:currentPage":t[4]||(t[4]=e=>s.params.pageNum=e),"page-size":s.params.pageSize,"onUpdate:pageSize":t[5]||(t[5]=e=>s.params.pageSize=e),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:s.total,onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),(0,i.Wm)(f,{modelValue:s.chapterDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>s.chapterDialog=e),title:"章节内容"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{data:s.chapterDialogData},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{prop:"username",label:"作者"}),(0,i.Wm)(d,{prop:"title",label:"小说名"}),(0,i.Wm)(d,{prop:"chapter",label:"章节"}),(0,i.Wm)(d,{prop:"chaptername",label:"章节名"}),(0,i.Wm)(d,{label:"是否通过",width:"80px",align:"center"},{default:(0,i.w5)((e=>[(0,i.Wm)(p,{modelValue:e.row.isVisible,"onUpdate:modelValue":t=>e.row.isVisible=t,"true-label":"true"},null,8,["modelValue","onUpdate:modelValue"]),(0,i._)("span",null,(0,U.zw)("true"===e.row.isVisible?"已通过":"未通过"),1)])),_:1})])),_:1},8,["data"]),(0,i.Wm)(g,{"current-page":s.params.pageNum,"onUpdate:currentPage":t[6]||(t[6]=e=>s.params.pageNum=e),"page-size":s.params.pageSize,"onUpdate:pageSize":t[7]||(t[7]=e=>s.params.pageSize=e),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:s.total,onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])])),_:1},8,["modelValue"]),(0,i.Wm)(f,{modelValue:s.dialogFormVisible,"onUpdate:modelValue":t[10]||(t[10]=e=>s.dialogFormVisible=e),title:"修改数据"},{footer:(0,i.w5)((()=>[(0,i._)("span",He,[(0,i.Wm)(n,{onClick:t[9]||(t[9]=e=>s.dialogFormVisible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1}),(0,i.Wm)(n,{type:"primary",onClick:o.update},{default:(0,i.w5)((()=>[(0,i.Uk)(" 修改 ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(y,{model:s.arrs},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{label:"封面","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{style:{width:"100px",height:"100px"},src:"https://hsq.org.cn:8090/hsq/file/"+s.arrs.cover,"preview-src-list":["https://hsq.org.cn:8090/hsq/file/"+s.arrs.cover]},null,8,["src","preview-src-list"]),(0,i.Wm)(w,{class:"upload-demo",action:"https://hsq.org.cn:8090/hsq/file/imgupload","on-success":o.handleUploadSuccess},{tip:(0,i.w5)((()=>[Re])),default:(0,i.w5)((()=>[Fe])),_:1},8,["on-success"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.Wm)(f,{modelValue:s.showDialog,"onUpdate:modelValue":t[15]||(t[15]=e=>s.showDialog=e),title:"添加数据"},{footer:(0,i.w5)((()=>[(0,i._)("span",Je,[(0,i.Wm)(n,{onClick:t[14]||(t[14]=e=>s.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1}),(0,i.Wm)(n,{type:"primary",onClick:e.submit},{default:(0,i.w5)((()=>[(0,i.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(y,{model:s.arrs},{default:(0,i.w5)((()=>[(0,i.Wm)(v,{label:"用户名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.arrs.username,"onUpdate:modelValue":t[11]||(t[11]=e=>s.arrs.username=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(v,{label:"真实名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.arrs.fullname,"onUpdate:modelValue":t[12]||(t[12]=e=>s.arrs.fullname=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(v,{label:"权限","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(_,{modelValue:s.arrs.permission,"onUpdate:modelValue":t[13]||(t[13]=e=>s.arrs.permission=e),placeholder:"Please select a zone"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.novletype,(e=>((0,i.wg)(),(0,i.j4)(b,{key:e.id,label:e.type,value:e.type},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])])}var Ze={name:"Read",data(){return{chapterDialog:!1,params:{title:"",username:"",pageNum:1,pageSize:5},dialogFormVisible:!1,items:[],arrs:{},showDialog:!1,total:0,novletype:{},chapterDialogData:[],user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},formLabelWidth:"30%"}},methods:{findSearch(){k.get("/novel/get",{params:this.params}).then((e=>{"1"===e.code?(this.items=e.data.list,this.total=e.data.total,k.get("/noveltype/get",{params:this.params}).then((e=>{"1"===e.code?this.novletype=e.data.list:this.$message({message:e.msg,type:"error"})}))):this.$message({message:e.msg,type:"error"})}))},handleSizeChange(e){this.params.pageSize=e,this.findSearch()},handleCurrentChange(e){this.params.pageNum=e,this.findSearch()},getuser(e){this.arrs=e,this.dialogFormVisible=!0},handleUploadSuccess(e){this.arrs.cover=e.data},update(){const e=this.arrs;e.username=null,e.typeName=null,k.post("/novel/save",e).then((e=>{"1"==e.code?(this.$message({message:"修改成功",type:"success"}),this.arrs={},this.dialogFormVisible=!1,this.findSearch()):this.$message({message:e.msg,type:"error"})}))},inspect(e){e.username=null,e.typeName=null,k.post("/novel/inspect",e).then((e=>{"1"===e.code?(this.$message({message:"修改成功",type:"success"}),this.findSearch()):this.$message({message:e.msg,type:"error"})}))},show(e){this.chapterDialog=!0,e.pageNum=1,e.pageSize=10;const t=e;k.get("/novelchapter/get",{params:t}).then((e=>{this.chapterDialogData=e.data.list}))}},mounted(){this.findSearch()}};const Xe=(0,d.Z)(Ze,[["render",Ke]]);var Qe=Xe;const Me={style:{"max-width":"100%",position:"fixed",bottom:"20px",right:"20%"}},Ge={style:{right:"0","text-align":"right"}},Ye=(0,i._)("div",{id:"flag"},null,-1),et={style:{"text-align":"left"}},tt={style:{position:"relative","z-index":"2"}};function lt(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-button");return(0,i.wg)(),(0,i.iD)("div",Me,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.chatHistory,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,style:{"text-align":"left"}},[(0,i._)("div",Ge,(0,U.zw)(s.user.username)+":"+(0,U.zw)(e.question),1),Ye,(0,i._)("div",et,[(0,i._)("pre",null,"GPT:"+(0,U.zw)(e.displayedAnswer),1)])])))),128)),(0,i._)("div",tt,[(0,i.Wm)(r,{rows:1,type:"textarea",modelValue:s.newQuestion,"onUpdate:modelValue":t[0]||(t[0]=e=>s.newQuestion=e),style:{width:"600px",resize:"vertical"}},null,8,["modelValue"]),(0,i.Wm)(n,{onClick:o.submitQuestion},{default:(0,i.w5)((()=>[(0,i.Uk)("提问")])),_:1},8,["onClick"])])])}const at=l(7218);var st={name:"ChatGpt",data(){return{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},dialogVisible:!1,color:"blue",chatHistory:[],newQuestion:"",newmodel:"gpt-4-1106-preview",headers:{"Content-Type":"application/json",Authorization:"hk-fycwmv1000013286e8c9dc207d6269f90a3a37c27c1f4b22"},url:"https://api.openai-hk.com/v1/chat/completions",gptresult:""}},methods:{submitQuestion(){this.chatHistory.push({question:this.newQuestion,answer:"",displayedAnswer:""});const e={max_tokens:1200,model:this.newmodel,temperature:.8,top_p:1,presence_penalty:1,messages:[{role:"system",content:"我想要你每一行输出的字最多为50个，超过50个的另起一行"},{role:"user",content:this.newQuestion}]};at.post(this.url,e,{headers:this.headers}).then((e=>{const t=e.data,l=this.chatHistory[this.chatHistory.length-1],a=t.choices[0].message.content;this.displayAnswerByCharacter(l,a,0)})).catch((e=>{console.error(e)})),this.newQuestion=""},displayAnswerByCharacter(e,t,l){var a=document.getElementById("flag");a.innerHTML="",l<t.length&&(a.innerHTML="正在回答中",e.displayedAnswer+=t[l],setTimeout((()=>{this.displayAnswerByCharacter(e,t,l+1)}),50))}}};const it=(0,d.Z)(st,[["render",lt]]);var ot=it;const rt={class:"container"},nt=["onClick"],dt={class:"dialog-footer"};function ut(e,t,l,a,s,o){const r=(0,i.up)("el-button"),n=(0,i.up)("my-card"),d=(0,i.up)("el-input"),u=(0,i.up)("el-form-item"),m=(0,i.up)("el-image"),p=(0,i.up)("el-upload"),c=(0,i.up)("el-option"),h=(0,i.up)("el-select"),g=(0,i.up)("el-form"),f=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(r,{onClick:t[0]||(t[0]=e=>s.showDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("编写新小说")])),_:1}),(0,i._)("div",rt,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.items,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id,class:"item",onClick:t=>o.navTo("/novelchapters?id="+e.id)},[(0,i.Wm)(n,{title:e.title,content:e.username,description:e.description,type:e.typeName,author:e.username,"image-src":"https://hsq.org.cn:8090/hsq/file/"+e.cover,novel:e.title,value:s.value},null,8,["title","content","description","type","author","image-src","novel","value"])],8,nt)))),128))]),(0,i.Wm)(f,{modelValue:s.showDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.showDialog=e),title:"小说基本内容"},{footer:(0,i.w5)((()=>[(0,i._)("span",dt,[(0,i.Wm)(r,{onClick:t[4]||(t[4]=e=>s.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1}),(0,i.Wm)(r,{type:"primary",onClick:o.submit},{default:(0,i.w5)((()=>[(0,i.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(g,{model:s.arrs},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{label:"小说名","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:s.arrs.title,"onUpdate:modelValue":t[1]||(t[1]=e=>s.arrs.title=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(u,{label:"小说封面","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{class:"avatar-uploader",action:"https://hsq.org.cn:8090/hsq/file/imgupload","show-file-list":!1,"on-success":o.handleAvatarSuccess},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{style:{width:"100px",height:"100px"},src:"https://hsq.org.cn:8090/hsq/file/"+s.arrs.cover},null,8,["src"])])),_:1},8,["on-success"])])),_:1},8,["label-width"]),(0,i.Wm)(u,{label:"小说类型","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{modelValue:s.arrs.type,"onUpdate:modelValue":t[2]||(t[2]=e=>s.arrs.type=e),placeholder:"Please select a zone"},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.novletype,(e=>((0,i.wg)(),(0,i.j4)(c,{key:e.id,label:e.type,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["label-width"]),(0,i.Wm)(u,{label:"小说简介","label-width":s.formLabelWidth},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{modelValue:s.arrs.description,"onUpdate:modelValue":t[3]||(t[3]=e=>s.arrs.description=e),autocomplete:"off"},null,8,["modelValue"])])),_:1},8,["label-width"])])),_:1},8,["model"])])),_:1},8,["modelValue"])],64)}const mt={class:"card"},pt={class:"card__content"},ct={class:"card__title"},ht={class:"card__description"},gt={class:"card__description"},ft={class:"card__description"},wt={class:"card__description"},vt={style:{"margin-top":"10px","text-align":"center","line-height":"1"}};function yt(e,t,l,a,s,o){const r=(0,i.up)("el-image"),n=(0,i.up)("el-rate"),d=(0,i.up)("el-text"),u=(0,i.up)("el-col");return(0,i.wg)(),(0,i.j4)(u,{span:4,style:{margin:"10px"}},{default:(0,i.w5)((()=>[(0,i._)("div",mt,[(0,i.Wm)(r,{src:l.imageSrc,style:{width:"250px",height:"200px"},fit:"fill"},null,8,["src"]),(0,i._)("div",pt,[(0,i._)("p",ct,(0,U.zw)(l.title),1),(0,i._)("p",ht,"作者: "+(0,U.zw)(l.author),1),(0,i._)("p",gt,"类型: "+(0,U.zw)(l.type),1),(0,i._)("p",ft,[(0,i.Uk)("评分: "),(0,i.Wm)(n,{modelValue:s.ratingValue,"onUpdate:modelValue":t[0]||(t[0]=e=>s.ratingValue=e),disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value} points",size:"small"},null,8,["modelValue"])]),(0,i._)("p",wt,"作品评价: "+(0,U.zw)(l.description),1)])]),(0,i._)("div",vt,[(0,i.Wm)(d,{style:{"font-size":"14px",color:"#777"}},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(l.novel),1)])),_:1})])])),_:1})}var bt={data(){return{ratingValue:this.value}},props:{novel:{type:String,required:!0},imageSrc:{type:String,required:!0},title:{type:String,required:!0},author:{type:String,required:!0},type:{type:String,required:!0},content:{type:String,required:!0},description:{type:String,required:!0},value:{type:Number,default:3}}};const _t=(0,d.Z)(bt,[["render",yt],["__scopeId","data-v-330b0287"]]);var kt=_t,Wt={name:"Write",components:{MyCard:kt},data(){return{showDialog:!1,imageUrl:"",arrs:{},user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},params:{title:"",username:""},items:[],total:0,formLabelWidth:"30%",novletype:{},value:5}},methods:{findSearch(){this.params.username=this.user.username,k.get("/novel/get",{params:this.params}).then((e=>{"1"===e.code?(this.items=e.data.list,this.total=e.data.total,k.get("/noveltype/get",{params:this.params}).then((e=>{"1"===e.code?this.novletype=e.data.list:this.$message({message:e.msg,type:"error"})}))):this.$message({message:e.msg,type:"error"})}))},handleAvatarSuccess(e){this.arrs.cover=e.data},navTo(e){location.href=e},submit(){let e=this.arrs;this.arrs.uid=this.user.id;const t=this.items.some((e=>e.title===this.arrs.title));this.arrs.ifopen="false",t?this.$message({message:"小说以存在",type:"error"}):k.post("/novel/save",this.arrs).then((t=>{"1"==t.code?(console.log(t.data),e.id=t.data,this.$message({message:"添加成功",type:"success"}),k.post("/file/novelupload",e).then((e=>{"1"==e.code&&(this.arrs={})})),this.showDialog=!1,this.findSearch()):this.$message({message:t.msg,type:"error"})})),this.showDialog=!1,this.arrs={}}},mounted(){this.params.username=this.user.username,this.findSearch()}};const Ct=(0,d.Z)(Wt,[["render",ut],["__scopeId","data-v-9882a77e"]]);var Vt=Ct;const Ut=e=>((0,i.dD)("data-v-f05acd8c"),e=e(),(0,i.Cn)(),e),xt={key:0},St={class:"container"},zt={class:"novel-info"},Dt={style:{"margin-left":"10px","text-align":"left"}},qt=Ut((()=>(0,i._)("td",null,"小说名:",-1))),Lt=Ut((()=>(0,i._)("td",null,"作者:",-1))),Nt=Ut((()=>(0,i._)("td",null,"类型:",-1))),At=Ut((()=>(0,i._)("td",null,"简介:",-1))),It=Ut((()=>(0,i._)("td",null,"评分:",-1))),Ot={style:{"text-align":"center",margin:"0"}},$t={class:"chapter-list",style:{"text-align":"left"}},Tt=Ut((()=>(0,i._)("h3",null,"章节列表：",-1))),Pt={key:0},Et=Ut((()=>(0,i._)("div",{id:"editor",style:{"text-align":"left"}},null,-1))),Bt=Ut((()=>(0,i._)("br",null,null,-1))),jt=Ut((()=>(0,i._)("div",{id:"editor2",style:{"text-align":"left"}},null,-1)));function Ft(e,t,l,a,s,o){const r=(0,i.up)("el-button"),n=(0,i.up)("el-image"),d=(0,i.up)("el-rate"),u=(0,i.up)("el-popover"),m=(0,i.up)("el-form-item"),p=(0,i.up)("el-input"),c=(0,i.up)("el-form"),h=(0,i.up)("el-dialog"),g=(0,i.up)("el-option"),f=(0,i.up)("el-select");return(0,i.wg)(),(0,i.iD)(i.HY,null,[this.user.id==this.novel.uid?((0,i.wg)(),(0,i.iD)("div",xt,[(0,i.Wm)(r,{onClick:o.addChapter},{default:(0,i.w5)((()=>[(0,i.Uk)("添加章节")])),_:1},8,["onClick"]),(0,i.Wm)(r,{onClick:o.editChapter},{default:(0,i.w5)((()=>[(0,i.Uk)("编辑章节")])),_:1},8,["onClick"])])):(0,i.kq)("",!0),(0,i._)("div",St,[(0,i._)("div",zt,[(0,i.Wm)(n,{style:{width:"200px",height:"220px"},src:"https://hsq.org.cn:8090/hsq/file/"+s.novel.cover},null,8,["src"])]),(0,i._)("table",Dt,[(0,i._)("tr",null,[qt,(0,i._)("td",null,(0,U.zw)(s.novel.title),1)]),(0,i._)("tr",null,[Lt,(0,i._)("td",null,(0,U.zw)(s.novel.username),1)]),(0,i._)("tr",null,[Nt,(0,i._)("td",null,(0,U.zw)(s.novel.type),1)]),(0,i._)("tr",null,[At,(0,i._)("td",null,(0,U.zw)(s.novel.description),1)]),(0,i._)("tr",null,[It,(0,i._)("td",null,[(0,i.Wm)(d,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=e=>s.value=e),disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value} points"},null,8,["modelValue"])])]),(0,i._)("tr",null,[(0,i._)("td",null,"点赞数："+(0,U.zw)(s.novel.thumbsUp),1),(0,i._)("td",null,"收藏数："+(0,U.zw)(s.novel.collection),1),(0,i._)("td",null,[(0,i.Wm)(u,{visible:s.visible,placement:"top",width:160},{reference:(0,i.w5)((()=>[(0,i.Wm)(r,{onClick:t[3]||(t[3]=e=>s.visible=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("读者评分")])),_:1})])),default:(0,i.w5)((()=>[(0,i._)("div",Ot,[(0,i.Wm)(d,{modelValue:s.value1,"onUpdate:modelValue":t[1]||(t[1]=e=>s.value1=e)},null,8,["modelValue"]),(0,i.Wm)(r,{size:"small",text:"",onClick:t[2]||(t[2]=e=>s.visible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取消")])),_:1}),(0,i.Wm)(r,{size:"small",type:"primary",onClick:o.userRating},{default:(0,i.w5)((()=>[(0,i.Uk)("确认")])),_:1},8,["onClick"])])])),_:1},8,["visible"]),(0,i.Wm)(r,{type:"primary",onClick:o.thumbUp},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(s.isthumbsUp?"取消点赞":"点赞"),1)])),_:1},8,["onClick"]),(0,i.Wm)(r,{type:"primary",onClick:o.collection},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(s.iscollection?"取消收藏":"收藏"),1)])),_:1},8,["onClick"])])])])]),(0,i._)("div",$t,[Tt,(0,i._)("ul",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.novelchapters,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.chapter},["true"==e.isVisible||this.user.username==s.novel.username?((0,i.wg)(),(0,i.iD)("div",Pt,[(0,i.Wm)(r,{onClick:t=>o.chakan(e)},{default:(0,i.w5)((()=>[(0,i.Uk)("第"+(0,U.zw)(e.chapter)+"章"+(0,U.zw)(e.chaptername),1)])),_:2},1032,["onClick"])])):(0,i.kq)("",!0)])))),128))])]),(0,i.Wm)(h,{modelValue:s.addDialog,"onUpdate:modelValue":t[5]||(t[5]=e=>s.addDialog=e),title:"添加数据"},{default:(0,i.w5)((()=>[(0,i._)("div",null,[(0,i.Wm)(c,{model:s.arrs},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{label:"章节"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 第"+(0,U.zw)(s.arrs.chapter)+"章 ",1)])),_:1}),(0,i.Wm)(m,{label:"章节标题"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:s.arrs.chapter_name,"onUpdate:modelValue":t[4]||(t[4]=e=>s.arrs.chapter_name=e),rules:[{required:!0,message:"请输入章节标题",trigger:"blur"}]},null,8,["modelValue"])])),_:1}),(0,i.Wm)(m,{label:"章节内容"},{default:(0,i.w5)((()=>[Et,(0,i.Wm)(r,{type:"primary",disabled:s.isTitleEmpty,onClick:o.add},{default:(0,i.w5)((()=>[(0,i.Uk)("添加章节")])),_:1},8,["disabled","onClick"])])),_:1})])),_:1},8,["model"])])])),_:1},8,["modelValue"]),(0,i.Wm)(h,{modelValue:s.editDialog,"onUpdate:modelValue":t[8]||(t[8]=e=>s.editDialog=e),title:"编辑数据"},{default:(0,i.w5)((()=>[(0,i.Uk)(" 第 "),(0,i.Wm)(f,{modelValue:s.arrs.chapter,"onUpdate:modelValue":t[6]||(t[6]=e=>s.arrs.chapter=e),placeholder:"请选择章节",onChange:o.selectChapterChange},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.novelchapters,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.chapter},[e.nid==s.novelid?((0,i.wg)(),(0,i.j4)(g,{key:0,label:e.chapter,value:e.chapter},null,8,["label","value"])):(0,i.kq)("",!0)])))),128))])),_:1},8,["modelValue","onChange"]),(0,i.Uk)("章"),Bt,(0,i.Wm)(p,{modelValue:s.arrs.chapter_name,"onUpdate:modelValue":t[7]||(t[7]=e=>s.arrs.chapter_name=e)},null,8,["modelValue"]),jt,(0,i.Wm)(r,{type:"primary",disabled:s.isTitleEmpty,onClick:o.edit},{default:(0,i.w5)((()=>[(0,i.Uk)("编辑章节")])),_:1},8,["disabled","onClick"])])),_:1},8,["modelValue"])],64)}var Rt=l(7438),Ht=l.n(Rt),Jt={height:200,width:600,placeholder:"请输入内容",uploadFileName:"file",uploadImgServer:"https://hsq.org.cn:8090/hsq/file/wang/upload",menus:["head","bold","fontSize","fontName","italic","foreColor","backColor","justify","emoticon","image","table"],colors:["#1ede27","#dc1212"],emotions:[{title:"表情",type:"emoji",content:["😀","😃","😄","😁","😆","😅","😂","🤣","😊","😇","🙂","🙃","😉","😌","😍","😘","😗","😙","😚","😋","😛","😝","😜","🤓","😎","😏","😒","😞","😔","😟","😕","🙁","😣","😖","😫","😩","😢","😭","😤","😠","😡","😳","😱","😨","🤗","🤔","😶","😑","😬","🙄","😯","😴","😷","🤑","😈","🤡","💩","👻","💀","👀","👣"]},{title:"手势",type:"emoji",content:["👐","🙌","👏","🤝","👍","👎","👊","✊","🤛","🤜","🤞","✌️","🤘","👌","👈","👉","👆","👇","☝️","✋","🤚","🖐","🖖","👋","🤙","💪","🖕","✍️","🙏"]}]},Kt={name:"Novelchapters",data(){let e=this.$route.query.id;return{editor1:null,editor2:null,arrs:{},novelid:e,user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},params:{title:"",username:"",uid:"",chapter:""},chapters:{title:"",chapter:"",chaptername:"",isVisible:"false"},items:[],txt:"",addDialog:!1,novel:"",value:4.2,novelchapters:[],visible:!1,value1:0,isthumbsUp:!1,iscollection:!1,editDialog:!1,selectChapter:"",isTitleEmpty:!1,requestSent:!1}},methods:{initWangEditor(e,t,l){let a=1===l?this.editor1:this.editor2;a?a.txt.html(t):this.$nextTick((()=>{a=new(Ht())("#"+e),Object.assign(a.config,Jt),a.create(),setTimeout((()=>{a.txt.html(t)})),1===l?this.editor1=a:2===l&&(this.editor2=a)}))},init(){k.post("novel/select/"+this.novelid).then((e=>{var t=e.data;this.arrs=t,this.novel=t,this.params.title=t.title,this.params.uid=t.uid,k.post("/rating/get",this.novel).then((e=>{"1"==e.code&null!=e.data&&(this.value=e.data.rating)})),k.post("/novelchapter/select/"+this.novelid).then((e=>{"1"===e.code?(this.novelchapters=e.data,k.get("/thumbsUp/selectPage",{params:{uid:this.user.id,likeableId:this.novel.id,type:"novel"}}).then((e=>{"1"===e.code&&e.data.list.length>0&&(this.isthumbsUp=!0)})),k.get("/collection/selectPage",{params:{uid:this.user.id,nid:this.novel.id}}).then((e=>{"1"===e.code&&e.data.list.length>0&&(this.iscollection=!0)}))):this.$message({message:e.msg,type:"error"})}))}))},addChapter(){this.arrs={},this.addDialog=!0,this.initWangEditor("editor","",1),k.get("/novelchapter/get",{params:this.params}).then((e=>{if("1"===e.code)if(this.items=e.data.list,0!=this.items.length){const e=this.items.map((e=>e.chapter)),t=Math.max(...e);this.arrs.chapter=t+1}else this.arrs.chapter=1;else this.$message({message:e.msg,type:"error"})}))},editChapter(){this.editDialog=!0,this.initWangEditor("editor2","",2)},add(){this.chapters.uid=this.user.id,this.chapters.chapter=this.arrs.chapter,this.chapters.chaptername=this.arrs.chapter_name,this.chapters.username=null,this.chapters.title=null,this.chapters.nid=this.novel.id,this.arrs.content=this.editor1.txt.html(),this.arrs.uid=this.user.id,this.arrs.id=this.novel.id,this.requestSent||(this.requestSent=!0,k.post("/novelchapter/save",this.chapters).then((e=>{"1"==e.code&&(this.arrs.chapterid=e.data,this.init())})),k.post("/file/novelupload",this.arrs).then((e=>{"1"==e.code?(this.$message({message:"添加成功",type:"success"}),this.init()):this.$message({message:e.msg,type:"error"})})),this.arrs={},this.addDialog=!1)},edit(){this.chapters.uid=this.user.id,this.chapters.chapter=this.arrs.chapter,this.chapters.chaptername=this.arrs.chapter_name,this.chapters.username=null,this.chapters.title=null,this.chapters.nid=this.novel.id,this.arrs.content=this.editor2.txt.html(),this.arrs.uid=this.user.id,this.arrs.id=this.novel.id,k.post("/novelchapter/update",this.chapters).then((e=>{"1"==e.code&&(this.arrs.chapterid=e.data)})),k.post("/file/novelupload",this.arrs).then((e=>{"1"==e.code?(this.$message({message:"修改成功",type:"success"}),this.init()):this.$message({message:e.msg,type:"error"})})),this.arrs={},this.editDialog=!1},selectChapterChange(e){this.arrs.chapter_name=this.novelchapters.find((t=>t.chapter==e)).chaptername,this.arrs.id=this.novelid,k.post("/file/novelupload/novelchapter",this.arrs).then((e=>{"1"==e.code?(this.arrs.content=e.data,this.editor2.txt.html(e.data)):this.$message({message:e.msg,type:"error"})}))},chakan(e){e.chapter_name=e.chaptername,e.id=this.novelid,k.post("/file/novelupload/novelchapter",e).then((t=>{localStorage.setItem("chaptercontent",JSON.stringify(t.data)),localStorage.setItem("chapterId",e.id),di.push("/novelcontent")}))},thumbUp(){k.get("/thumbsUp/selectPage",{params:{uid:this.user.id,likeableId:this.novel.id,type:"novel"}}).then((e=>{"1"===e.code?e.data.list.length>0?k.delete("/thumbsUp/delete/"+e.data.list[0].id).then((e=>{"1"===e.code?(this.$message.success("取消点赞成功"),this.isthumbsUp=!1):this.$message.error(e.msg),this.init()})):k.post("/thumbsUp/add",{uid:this.user.id,likeableId:this.novel.id,type:"novel"}).then((e=>{"1"===e.code?this.$message.success("点赞成功"):this.$message.error(e.msg),this.init()})):this.$message.error(e.msg),this.init()}))},collection(){k.get("/collection/selectPage",{params:{uid:this.user.id,nid:this.novel.id}}).then((e=>{"1"===e.code?e.data.list.length>0?k.delete("/collection/delete/"+e.data.list[0].id).then((e=>{"1"===e.code?(this.iscollection=!1,this.$message.success("取消收藏成功")):this.$message.error(e.msg),this.init()})):k.post("/collection/add",{uid:this.user.id,nid:this.novel.id}).then((e=>{"1"===e.code?this.$message.success("收藏成功"):this.$message.error(e.msg),this.init()})):this.$message.error(e.msg),this.init()}))},l(){p.Z.get("https://api.vvhan.com/api/view?type=json")},userRating(){this.visible=!1;const e={nid:this.novel.id,uid:this.user.id,rating:this.value1};k.post("rating/save",e).then((e=>{"1"===e.code?(this.$message.success("评分成功"),this.init()):this.$message.error(e.msg)}))}},mounted(){this.init()}};const Zt=(0,d.Z)(Kt,[["render",Ft],["__scopeId","data-v-f05acd8c"]]);var Xt=Zt;const Qt=e=>((0,i.dD)("data-v-cb342b90"),e=e(),(0,i.Cn)(),e),Mt=Qt((()=>(0,i._)("br",null,null,-1))),Gt={id:"qrCode",ref:"qrCodeDiv",class:"qrCode"},Yt={key:0},el={key:1},tl={key:2},ll={key:3};function al(e,t,l,a,s,o){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Uk)(" 请扫描二维码或点击按钮获取授权,"),Mt,(0,i._)("div",Gt,null,512),0==s.timeout?((0,i.wg)(),(0,i.iD)("div",Yt,"二维码失效时间为"+(0,U.zw)(s.time)+"秒",1)):(0,i.kq)("",!0),s.scanStatus?((0,i.wg)(),(0,i.iD)("div",el,"已扫描,请确认授权")):(0,i.kq)("",!0),s.authorizationStatus?((0,i.wg)(),(0,i.iD)("div",tl,"授权成功")):(0,i.kq)("",!0),s.timeout?((0,i.wg)(),(0,i.iD)("div",ll,[(0,i.Uk)("二维码已过期，请"),(0,i._)("a",{href:"javascript:;",onClick:t[0]||(t[0]=e=>o.getcode())},"重新获取")])):(0,i.kq)("",!0)],64)}var sl=l(2614),il=l.n(sl),ol={name:"Gpt",data(){return{time:10,code:"123",web:null,scanStatus:!1,authorizationStatus:!1,user:{},timeout:!1,qrcode:null}},methods:{getcode(){if(this.timeout=!1,this.qrcode){let e=this.$refs.qrCodeDiv;while(e.firstChild)e.removeChild(e.firstChild)}k.get("/code/get").then((e=>{this.code=e.data,setTimeout((()=>{const e="ws://localhost:8090/codesocket/"+this.code;console.log(e);var t=new WebSocket(e);this.web=t,this.web.onopen=function(){console.log("连接成功")},this.web.onmessage=e=>{console.log(e.data)},this.web.onerror=function(){},this.web.onclose=function(){console.log("WebSocket Connection Closed")}}),1e3),this.bindQRCode(),this.g()}))},getScoket(){k.post("/code/change/"+this.code)},bindQRCode:function(){const e=this.code;this.qrcode=new(il())(this.$refs.qrCodeDiv,{text:e,width:100,height:100,colorDark:"#333333",colorLight:"#ffffff",correctLevel:il().CorrectLevel.L})},g(){let e=setInterval((()=>{k.post("/code/"+this.code).then((t=>{if(t.data){if("SCANNED"===t.data.scanStatus&&(console.log("已扫描"),this.scanStatus=!0,"AUTHORIZED"===t.data.authorizationStatus)){this.authorizationStatus=!0,this.scanStatus=!1;const l=t.data.user;k.post("/user/login",l).then((t=>{1==t.code&&(clearInterval(e),this.$message({message:"登录成功",type:"success"}),localStorage.setItem("user",JSON.stringify(t.data)),this.$router.push("/LayOut"))}))}}else this.$message({message:t.msg,type:"error"}),this.scanStatus=!1,this.authorizationStatus=!1,this.timeout=!0,this.qrcode.clear(),this.qrcode.makeCode("二维码已过期，请重新获取"),clearInterval(e)}))}),5e3)}},mounted(){this.getcode(),setInterval(this.g(),5e3)},beforeUnmount(){this.web.close(),console.log("关闭WebSocket连接"),clearInterval(this.timer)}};const rl=(0,d.Z)(ol,[["render",al],["__scopeId","data-v-cb342b90"]]);var nl=rl;const dl={class:"dialog-footer"},ul={style:{display:"flex","justify-content":"center"}};function ml(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-form-item"),d=(0,i.up)("el-form"),u=(0,i.up)("el-button"),m=(0,i.up)("el-dialog"),p=(0,i.up)("el-table-column"),c=(0,i.up)("el-popconfirm"),h=(0,i.up)("el-table"),g=(0,i.up)("el-pagination"),f=(0,i.Q2)("loading");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(m,{modelValue:s.showDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>s.showDialog=e),title:"添加类型"},{footer:(0,i.w5)((()=>[(0,i._)("span",dl,[(0,i.Wm)(u,{onClick:t[1]||(t[1]=e=>s.showDialog=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("Cancel")])),_:1}),(0,i.Wm)(u,{type:"primary",onClick:o.submit},{default:(0,i.w5)((()=>[(0,i.Uk)(" Confirm ")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(d,{model:s.arrs},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{label:"类型","label-width":"30%"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.arrs.type,"onUpdate:modelValue":t[0]||(t[0]=e=>s.arrs.type=e),autocomplete:"off"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue"]),(0,i.Wm)(u,{onClick:t[3]||(t[3]=e=>s.showDialog=!0)},{default:(0,i.w5)((()=>[(0,i.Uk)("添加小说类型")])),_:1}),(0,i.wy)(((0,i.wg)(),(0,i.j4)(h,{data:s.items,align:"center"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{prop:"type",label:"分类",width:"110px",align:"center"}),(0,i.Wm)(p,{label:"操作",align:"center"},{default:(0,i.w5)((t=>[(0,i._)("div",ul,[(0,i.Wm)(u,{size:"small",onClick:e=>o.getuser(t.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("修改")])),_:2},1032,["onClick"]),(0,i.Wm)(c,{onConfirm:l=>e.deleteItem(t.row),title:"Are you sure to delete this?"},{reference:(0,i.w5)((()=>[(0,i.Wm)(u,{id:"delete",size:"small"},{default:(0,i.w5)((()=>[(0,i.Uk)("删除")])),_:1})])),_:2},1032,["onConfirm"])])])),_:1})])),_:1},8,["data"])),[[f,s.loading]]),(0,i.Wm)(g,{"current-page":s.params.pageNum,"onUpdate:currentPage":t[4]||(t[4]=e=>s.params.pageNum=e),"page-size":s.params.pageSize,"onUpdate:pageSize":t[5]||(t[5]=e=>s.params.pageSize=e),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:s.total,onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"])],64)}var pl={name:"Noveltype",data(){return{items:[],params:{title:"",username:"",pageNum:1,pageSize:5},loading:!1,total:0,showDialog:!1,arrs:{}}},methods:{findSearch(){k.get("/noveltype/get",{params:this.params}).then((e=>{"1"===e.code?(this.items=e.data.list,this.total=e.data.total):this.$message({message:e.msg,type:"error"})}))},handleSizeChange(e){this.params.pageSize=e,this.findSearch()},handleCurrentChange(e){this.params.pageNum=e,this.findSearch()},submit(){k.post("/noveltype/save",this.arrs).then((e=>{"1"===e.code?(this.showDialog=!1,this.$message({message:"修改成功",type:"success"}),this.findSearch(),this.arrs={}):this.$message({message:e.msg,type:"error"})}))},getuser(e){this.arrs=e,this.showDialog=!0}},mounted(){this.findSearch()}};const cl=(0,d.Z)(pl,[["render",ml]]);var hl=cl;const gl={class:"side"},fl={id:"qrCode",ref:"qrCodeDiv"},wl={class:"container"};function vl(e,t,l,a,s,o){const r=(0,i.up)("el-image"),n=(0,i.up)("el-carousel-item"),d=(0,i.up)("el-carousel"),u=(0,i.up)("novel-card-list"),m=(0,i.up)("el-tab-pane"),p=(0,i.up)("el-tabs");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",gl,[(0,i._)("div",fl,null,512)]),(0,i._)("div",wl,[(0,i._)("div",null,[(0,i.Wm)(d,{arrow:"always",interval:5999},{default:(0,i.w5)((()=>[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.carouselChartlist,(e=>((0,i.wg)(),(0,i.j4)(n,{key:e.id},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{style:{height:"auto"},src:"https://hsq.org.cn:8090/hsq/file/"+e.img},null,8,["src"])])),_:2},1024)))),128))])),_:1})]),(0,i.Wm)(p,{type:"border-card"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{label:"全部"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{novelList:s.items,ratings:s.ratings,noveltype:"",isall:!0},null,8,["novelList","ratings"])])),_:1}),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.typeList,(e=>((0,i.wg)(),(0,i.iD)("div",{key:e.id},[(0,i.Wm)(m,{label:e.type},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{novelList:s.items,ratings:s.ratings,noveltype:e.type,isall:!1},null,8,["novelList","ratings","noveltype"])])),_:2},1032,["label"])])))),128)),(0,i.Wm)(m,{label:"我的收藏"},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{novelList:s.collectionList,ratings:s.ratings,noveltype:"",isall:!0},null,8,["novelList","ratings"])])),_:1})])),_:1})])])}var yl=l(8082),bl=l.n(yl);const _l={style:{display:"grid","grid-template-columns":"repeat(auto-fit, minmax(250px, 1fr))","grid-gap":"10px","text-align":"center"}},kl={key:0,class:"box-card",style:{"background-color":"#efdede","margin-top":"10px","margin-right":"10px",display:"flex"}},Wl={key:0,style:{padding:"10px"}},Cl={key:1,style:{width:"130px",margin:"10px","text-align":"left"}},Vl=["onClick"],Ul={key:0},xl={style:{"align-items":"center","justify-content":"center",display:"flex",height:"auto","margin-top":"20px"}};function Sl(e,t,l,a,s,o){const r=(0,i.up)("el-image"),n=(0,i.up)("el-empty");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",_l,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.novelList,(e=>((0,i.wg)(),(0,i.iD)(i.HY,{key:e.id},[e.typeName!=l.noveltype&&!l.isall||"true"!=e.ifopen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",kl,[e.typeName!=l.noveltype&&!l.isall||"true"!=e.ifopen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Wl,[(0,i.Wm)(r,{style:{width:"150px",height:"180px"},src:"https://hsq.org.cn:8090/hsq/file/"+e.cover},null,8,["src"])])),e.typeName!=l.noveltype&&!l.isall||"true"!=e.ifopen?(0,i.kq)("",!0):((0,i.wg)(),(0,i.iD)("div",Cl,[(0,i._)("a",{onClick:t=>o.navTo("/novelchapters?id="+e.id)},"标题："+(0,U.zw)(e.title),9,Vl),(0,i._)("p",null,"作者："+(0,U.zw)(e.username),1),(0,i._)("p",null,"类型："+(0,U.zw)(e.typeName),1),(0,i._)("p",null,"简介："+(0,U.zw)(e.description),1),l.ratings&&l.ratings.length?((0,i.wg)(),(0,i.iD)("div",Ul,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(o.getRatingsByNid(e.id),(e=>((0,i.wg)(),(0,i.iD)("p",{key:e.id}," 评分: "+(0,U.zw)(e.rating)+"分 ",1)))),128))])):(0,i.kq)("",!0)]))]))],64)))),128))]),(0,i._)("div",xl,[(0,i.Wm)(n,{description:"没有找到相关小说了"})])],64)}var zl={name:"NovelCardList",props:{novelList:{type:Array,required:!0},ratings:{type:Array,default:()=>[]},noveltype:{type:String,default:"小说"},isall:{type:Boolean,default:!1}},methods:{navTo(e){di.push(e)},getRatingsByNid(e){return this.ratings.filter((t=>t.nid===e))}}};const Dl=(0,d.Z)(zl,[["render",Sl],["__scopeId","data-v-5fde559a"]]);var ql=Dl,Ll={name:"novels",components:{NovelCardList:ql},data(){return{params:{title:"",username:"",pageNum:1,pageSize:10},total:0,items:[],ratings:[],carouselChartlist:"",typeList:["悬疑类","言情类"],user:JSON.parse(localStorage.getItem("user")||"{}"),collectionList:[]}},methods:{getnoverl(){k.get("/novel/get").then((e=>{"1"===e.code?(this.items=e.data.list,this.total=e.data.total,k.post("rating/getAverageRatingForNovels",this.items).then((e=>{this.ratings=e.data}))):this.$message({message:e.msg,type:"error"})}))},zhanshi(e){const t=JSON.stringify(e),l=bl().AES.encrypt(t,"secretKey").toString();di.push({name:"novelchapters",query:{data:l}})},navTo(e){location.href=e},getcarouselChart(){k.get("/carouselChart/selectPage",{params:{router:"/novels"}}).then((e=>{"1"===e.code?this.carouselChartlist=e.data.list:this.$message.error(e.msg)}))},getcollection(){k.get("/collection/selectPageByUserId/"+this.user.id).then((e=>{"1"===e.code&&(this.collectionList=e.data)}))},gettypeList(){k.get("/noveltype/get",{params:{}}).then((e=>{"1"===e.code?this.typeList=e.data.list:this.$message.error(e.msg)}))},bindQRCode:function(){const e=window.location.href;new(il())(this.$refs.qrCodeDiv,{text:e,width:100,height:100,colorDark:"#333333",colorLight:"#ffffff",correctLevel:il().CorrectLevel.L})}},mounted(){this.getnoverl(),this.getcarouselChart(),this.getcollection(),this.gettypeList(),this.bindQRCode()}};const Nl=(0,d.Z)(Ll,[["render",vl],["__scopeId","data-v-18f90d27"]]);var Al=Nl;const Il={style:{display:"flex","justify-content":"center"}},Ol=["innerHTML"];function $l(e,t,l,a,s,o){const r=(0,i.up)("el-table-column"),n=(0,i.up)("el-checkbox"),d=(0,i.up)("el-button"),u=(0,i.up)("el-popconfirm"),m=(0,i.up)("el-table"),p=(0,i.up)("el-pagination"),c=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(m,{data:s.chapData},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{prop:"username",label:"作者"}),(0,i.Wm)(r,{prop:"title",label:"小说名"}),(0,i.Wm)(r,{prop:"chapter",label:"章节"}),(0,i.Wm)(r,{prop:"chaptername",label:"章节名"}),(0,i.Wm)(r,{label:"是否通过",width:"80px",align:"center"},{default:(0,i.w5)((e=>[(0,i.Wm)(n,{modelValue:e.row.isVisible,"onUpdate:modelValue":t=>e.row.isVisible=t,"true-label":"true",disabled:""},null,8,["modelValue","onUpdate:modelValue"]),(0,i._)("span",null,(0,U.zw)("true"===e.row.isVisible?"已通过":"未通过"),1)])),_:1}),(0,i.Wm)(r,{label:"操作",align:"center"},{default:(0,i.w5)((e=>[(0,i._)("div",Il,[(0,i.Wm)(u,{onConfirm:t=>o.inspect(e.row),title:"是否进行该操作"},{reference:(0,i.w5)((()=>[(0,i.Wm)(d,{size:"small"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)("true"===e.row.isVisible?"撤销通过":"通过"),1)])),_:2},1024)])),_:2},1032,["onConfirm"]),(0,i.Wm)(d,{size:"small",onClick:t=>o.chakan(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("查看")])),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"]),(0,i.Wm)(p,{"current-page":s.params.pageNum,"onUpdate:currentPage":t[0]||(t[0]=e=>s.params.pageNum=e),"page-size":s.params.pageSize,"onUpdate:pageSize":t[1]||(t[1]=e=>s.params.pageSize=e),"page-sizes":[5,10,15,20],layout:"total, sizes, prev, pager, next, jumper",total:s.total,onSizeChange:o.handleSizeChange,onCurrentChange:o.handleCurrentChange},null,8,["current-page","page-size","total","onSizeChange","onCurrentChange"]),(0,i.Wm)(c,{modelValue:s.txtDialog,"onUpdate:modelValue":t[2]||(t[2]=e=>s.txtDialog=e),style:{"text-align":"left"}},{default:(0,i.w5)((()=>[(0,i._)("div",{innerHTML:s.txt},null,8,Ol)])),_:1},8,["modelValue"])],64)}var Tl={name:"ChapterTable",data(){return{chapData:[],txtDialog:!1,params:{title:"",username:"",uid:"",chapter:"",pageNum:1,pageSize:5},total:0,txt:""}},methods:{findSearch(){k.get("/novelchapter/get",{params:this.params}).then((e=>{"1"===e.code&&(this.chapData=e.data.list,this.total=e.data.total)}))},handleSizeChange(e){this.params.pageSize=e,this.findSearch()},handleCurrentChange(e){this.params.pageNum=e,this.findSearch()},chakan(e){this.txtDialog=!0,e.chapter_name=e.chaptername,e.chapterid=e.id,e.id=e.nid,k.post("/file/novelupload/novelchapter",e).then((e=>{"1"===e.code?this.txt=e.data:this.$message({message:e.msg,type:"error"})}))},inspect(e){e.username=null,e.title=null,k.post("/novelchapter/inspect",e).then((e=>{"1"===e.code?(this.$message({message:"修改成功",type:"success"}),this.findSearch()):this.$message({message:e.msg,type:"error"})}))}},mounted(){this.findSearch()}};const Pl=(0,d.Z)(Tl,[["render",$l]]);var El=Pl,Bl="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAUFJREFUOE+V0z1IXEEUxfHf1mKjyBIELYwpDCGIWNiI1iJWWggpghA/mlQBrdROwUpQtFJJp1haJFXsbQxio4UfnbXWOncZYVnX1Xfh8Yb3hv+de86Zksa1hEUsp22xflGlNwCPGMcBvuJ/7f5GgE6coC2/d9J6owjgGxbQg3V8wXARQHTswmCC7OMB318DtKM7/2zBKHoxiXPcJthv/K0C/It1aDCHFTRX/dxKHX/hHh9xUUfsK4wE4DCrG1ZFhfIxa6VDg/qJ0wAcYTdbVQQQutwEYC/PuVrwBBGsTwFYQxNmCwCG0ojxlAMwjwGMFQB0JEuv09ifAzCFmaRFfwHANMKpCiA6byKy8B4RP+AsZ+RPACJtl0nIiZSJu2xfuBL2Rg5qqy/rVrlHz5dpGz/yzjhaa45wuQ4g8nGcvleu9xN1J0GYKjJDNwAAAABJRU5ErkJggg==";const jl=e=>((0,i.dD)("data-v-40fac095"),e=e(),(0,i.Cn)(),e),Fl={style:{width:"50%","background-color":"#d5dfea",position:"relative",left:"25%",padding:"1%"}},Rl=["innerHTML"],Hl={style:{width:"50%",position:"relative",left:"25%",disply:"flex","text-align":"left",padding:"1%","background-color":"#fcecec"}},Jl=jl((()=>(0,i._)("span",{style:{"text-align":"start"}},"评论区",-1))),Kl={style:{display:"flex"}},Zl={style:{padding:"1px"}},Xl={key:0,style:{position:"relative",left:"8%"}},Ql={class:"el-icon-edit",style:{display:"flex",color:"#909399"}},Ml=["onClick"],Gl=jl((()=>(0,i._)("br",null,null,-1))),Yl=jl((()=>(0,i._)("div",{style:{"text-align":"center","font-size":"small"}},[(0,i.Uk)("😍 "),(0,i._)("br"),(0,i.Uk)("表情")],-1))),ea=jl((()=>(0,i._)("div",{style:{flex:"1"}},"123",-1))),ta={style:{display:"flex","margin-bottom":"10px"}},la={style:{padding:"5px"}},aa={style:{flex:"1","text-align":"left",padding:"5px","margin-top":"5px"}},sa={style:{margin:"5px 0 5px 0px"}},ia={style:{display:"flex","margin-top":"5px","font-size":"small"}},oa={class:"box"},ra=["onClick"],na=["onClick"],da={key:0},ua=["onClick"],ma={style:{display:"flex","margin-bottom":"10px"}},pa={style:{padding:"5px"}},ca={style:{flex:"1","text-align":"left",padding:"5px","margin-top":"5px"}},ha={style:{margin:"5px 0 5px 0px"}},ga={key:0},fa={key:1},wa={style:{display:"flex","margin-top":"5px","font-size":"small"}},va={class:"box"},ya={class:"box"},ba=["onClick"],_a={class:"box"},ka=["onClick"],Wa={key:0},Ca=["onClick"];function Va(e,t,l,a,s,o){const r=(0,i.up)("el-avatar"),n=(0,i.up)("el-input"),d=(0,i.up)("el-popover"),u=(0,i.up)("el-divider");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",Fl,[(0,i._)("div",{innerHTML:s.txt},null,8,Rl)]),(0,i._)("div",Hl,[(0,i._)("div",null,[Jl,(0,i._)("div",Kl,[(0,i._)("div",Zl,[(0,i.Wm)(r,{src:"https://hsq.org.cn:8090/hsq/file/1710508278683"})]),(0,i.Wm)(n,{size:"default",style:{flex:"1"},onFocus:o.onFocus,modelValue:s.editor,"onUpdate:modelValue":t[0]||(t[0]=e=>s.editor=e),placeholder:"请输入评论内容"},null,8,["onFocus","modelValue"]),(0,i._)("button",{onClick:t[1]||(t[1]=e=>o.comment())},"提交")]),s.toolbar?((0,i.wg)(),(0,i.iD)("div",Xl,[(0,i._)("div",Ql,[(0,i.Wm)(d,{visible:s.visible,placement:"bottom",width:160},{reference:(0,i.w5)((()=>[(0,i._)("div",{style:{"text-align":"center","font-size":"small","margin-right":"5px"},onClick:t[2]||(t[2]=e=>s.visible=!0)},[(0,i.Uk)("😍 "),Gl,(0,i.Uk)("表情")])])),default:(0,i.w5)((()=>[(0,i._)("div",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.emojiList,((e,t)=>((0,i.wg)(),(0,i.iD)("span",{key:t,onClick:t=>s.editor+=e},(0,U.zw)(e),9,Ml)))),128))])])),_:1},8,["visible"]),Yl,ea])])):(0,i.kq)("",!0)]),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(s.commentList,((e,l)=>((0,i.wg)(),(0,i.iD)("div",{key:l,onClick:t[8]||(t[8]=e=>s.toolbar=!1)},[(0,i._)("div",ta,[(0,i._)("div",la,[(0,i.Wm)(r,{src:"https://hsq.org.cn:8090/hsq/file/"+e.user.avatar},null,8,["src"])]),(0,i._)("div",aa,[(0,i._)("span",null,(0,U.zw)(null==e.user.nickName?"用户"+e.user.username:e.user.nickName)+":",1),(0,i._)("div",sa,(0,U.zw)(e.content),1),(0,i._)("div",ia,[(0,i.Uk)((0,U.zw)(e.creattime)+" ",1),(0,i._)("div",oa,[(0,i._)("img",{src:Bl,style:{width:"15px",height:"15px","margin-right":"5px"},onClick:t=>o.commentthumbsup(e)},null,8,ra),(0,i.Uk)((0,U.zw)(0==e.thumbsUp?"":e.thumbsUp),1)]),(0,i._)("a",{onClick:t=>{o.reply(e),e.s=!0},style:{"margin-right":"5px",color:"#409eff"},onMousemove:t[3]||(t[3]=(...e)=>o.mouseover&&o.mouseover(...e)),onMouseout:t[4]||(t[4]=(...e)=>o.mouseout&&o.mouseout(...e))},"回复",40,na)]),e.s?((0,i.wg)(),(0,i.iD)("div",da,[(0,i.Wm)(n,{size:"small",style:{flex:"1"},modelValue:e.replyContent,"onUpdate:modelValue":t=>e.replyContent=t,placeholder:s.huifu},null,8,["modelValue","onUpdate:modelValue","placeholder"]),(0,i._)("button",{onClick:t=>o.replyitem(e)},"提交",8,ua)])):(0,i.kq)("",!0),(0,i._)("div",{style:{"margin-bottom":"10px",position:"relative",transform:"scale(0.95)"},onMousemove:t[7]||(t[7]=e=>this.visible=!1)},[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(e.reply,(l=>((0,i.wg)(),(0,i.iD)("div",{key:l.id,style:{}},[(0,i._)("div",ma,[(0,i._)("div",pa,[(0,i.Wm)(r,{src:"https://hsq.org.cn:8090/hsq/file/"+l.user.avatar},null,8,["src"])]),(0,i._)("div",ca,[(0,i._)("span",null,(0,U.zw)(null==l.user.nickName?"用户"+l.user.username:l.user.nickName)+":",1),(0,i._)("div",ha,[l.parentReplyId!=e.reply.id?((0,i.wg)(),(0,i.iD)("div",ga,"回复@"+(0,U.zw)(null==l.user.nickName?"用户"+l.user.username:l.user.nickName)+":"+(0,U.zw)(l.content),1)):((0,i.wg)(),(0,i.iD)("div",fa,(0,U.zw)(l.content),1))]),(0,i._)("div",wa,[(0,i._)("div",va,(0,U.zw)(l.creattime),1),(0,i._)("div",ya,[(0,i._)("img",{src:Bl,style:{width:"15px",height:"15px","margin-right":"5px"},onClick:e=>o.replythumbsup(l)},null,8,ba),(0,i.Uk)((0,U.zw)(0==l.thumbsUp?"0":l.thumbsUp),1)]),(0,i._)("div",_a,[(0,i._)("a",{onClick:t=>{o.reply(e),l.s=!0},style:{"margin-right":"5px",color:"#409eff"},onMousemove:t[5]||(t[5]=(...e)=>o.mouseover&&o.mouseover(...e)),onMouseout:t[6]||(t[6]=(...e)=>o.mouseout&&o.mouseout(...e))},"回复",40,ka)])]),l.s?((0,i.wg)(),(0,i.iD)("div",Wa,[(0,i.Wm)(n,{size:"small",style:{flex:"1"},onFocus:o.onFocus,modelValue:l.replyContent,"onUpdate:modelValue":e=>l.replyContent=e,placeholder:"请输入回复内容"},null,8,["onFocus","modelValue","onUpdate:modelValue"]),(0,i._)("button",{onClick:t=>o.replyComment(l,e)},"提交",8,Ca)])):(0,i.kq)("",!0)])])])))),128))],32)])]),(0,i.Wm)(u)])))),128))])],64)}const Ua=["😱","😖","😣","😞","😓","😩","😫","🥱","😤","😡","😠","🤬","😈","👿","💀","😀","😃","😄","😁","😆","😅","🤣","😂","😼","😻","😹","😸","🤡","😺","💗","🤗","🤨","🤠","🤢","🥶"];var xa=Ua,Sa={name:"NovelContent",data(){return{txt:"",id:"",editor:"",toolbar:"",chapter:{},commentList:[],huifu:"",visible:!1,user:JSON.parse(localStorage.getItem("user")||"{}"),emojiList:xa}},methods:{onFocus(){this.toolbar=!0},reply(e){this.huifu="回复@"+e.user.username+" "},replyComment(e){k.post("/reply/add",{uid:this.user.id,content:e.replyContent,creattime:new Date,commentId:e.commentId,parentReplyId:e.id}).then((e=>{"1"==e.code&&(this.$message.success("回复成功"),this.initData())})),e.replyContent="",e.s=!1},replyitem(e){k.post("/reply/add",{uid:this.user.id,content:e.replyContent,creattime:new Date,commentId:e.id,parentReplyId:NaN}).then((e=>{"1"==e.code&&(this.$message.success("回复成功"),this.initData())})),e.replyContent="",e.s=!1},comment(){k.post("/comment/add",{uid:this.user.id,content:this.editor,creattime:new Date,chapterid:this.id}).then((e=>{"1"==e.code&&(this.$message.success("评论成功"),this.initData(),this.editor="")}))},initData(){var e=JSON.parse(localStorage.getItem("chaptercontent")),t=localStorage.getItem("chapterId");this.txt=e,this.id=t,this.chapter.id=t,k.get("/comment/selectBychapterId/"+t).then((e=>{"1"==e.code?this.commentList=e.data:(this.commentList=[],this.$message.error(e.msg))}))},commentthumbsup(e){k.get("/thumbsUp/selectPage",{params:{uid:this.user.id,likeableId:e.id,type:"comment"}}).then((t=>{"1"===t.code?t.data.list.length>0?k.delete("/thumbsUp/delete/"+t.data.list[0].id).then((e=>{"1"===e.code&&(this.$message.success("取消点赞"),this.initData())})):k.post("/thumbsUp/add",{uid:this.user.id,likeableId:e.id,type:"comment"}).then((e=>{"1"===e.code?(this.$message.success("点赞成功"),this.initData()):this.$message.error(e.msg)})):this.$message.error(t.msg)}))},replythumbsup(e){k.get("/thumbsUp/selectPage",{params:{uid:this.user.id,likeableId:e.id,type:"reply"}}).then((t=>{"1"===t.code?t.data.list.length>0?k.delete("/thumbsUp/delete/"+t.data.list[0].id).then((e=>{"1"===e.code&&(this.$message.success("取消点赞"),this.initData())})):k.post("/thumbsUp/add",{uid:this.user.id,likeableId:e.id,type:"reply"}).then((e=>{"1"===e.code?(this.$message.success("点赞成功"),this.initData()):this.$message.error(e.msg)})):this.$message.error(t.msg)}))},mouseover(e){e.target.style.color="#ff4083"},mouseout(e){e.target.style.color="#409eff"}},mounted(){this.initData()}};const za=(0,d.Z)(Sa,[["render",Va],["__scopeId","data-v-40fac095"]]);var Da=za;const qa=e=>((0,i.dD)("data-v-4f149971"),e=e(),(0,i.Cn)(),e),La=qa((()=>(0,i._)("div",{class:"flex-grow"},null,-1)));function Na(e,t,l,a,s,o){const r=(0,i.up)("el-menu-item"),n=(0,i.up)("el-sub-menu"),d=(0,i.up)("el-menu"),u=(0,i.up)("router-view"),m=(0,i.up)("el-scrollbar"),p=(0,i.up)("el-main");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i.Wm)(d,{style:{position:"fixed",top:"0",left:"0","z-index":"60",right:"0"},index:"1","default-active":e.$route.path,class:"el-menu-demo",mode:"horizontal",ellipsis:!1,"background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b",router:""},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{index:"/novels"},{default:(0,i.w5)((()=>[(0,i.Uk)("阅读")])),_:1}),(0,i.Wm)(r,{index:"/write"},{default:(0,i.w5)((()=>[(0,i.Uk)("写小说")])),_:1}),(0,i.Wm)(r,{index:"/message"},{default:(0,i.w5)((()=>[(0,i.Uk)("聊天")])),_:1}),(0,i.Wm)(r,{index:"/img"},{default:(0,i.w5)((()=>[(0,i.Uk)("图片查询")])),_:1}),(0,i.Wm)(r,{index:"/read"},{default:(0,i.w5)((()=>[(0,i.Uk)("后台管理")])),_:1}),La,(0,i.Wm)(r,{index:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("注册")])),_:1}),""===s.user.username?((0,i.wg)(),(0,i.j4)(r,{key:0,index:"/1"},{default:(0,i.w5)((()=>[(0,i.Uk)("登录")])),_:1})):(0,i.kq)("",!0),null!=s.user?((0,i.wg)(),(0,i.j4)(n,{key:1,index:"2"},{title:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(""===s.user.username?"登录":s.user.username),1)])),default:(0,i.w5)((()=>[(0,i.Wm)(r,{index:"/info"},{default:(0,i.w5)((()=>[(0,i.Uk)("个人信息")])),_:1}),(0,i.Wm)(r,{onClick:o.quit,index:"/"},{default:(0,i.w5)((()=>[(0,i.Uk)("退出登录")])),_:1},8,["onClick"])])),_:1})):(0,i.kq)("",!0)])),_:1},8,["default-active"]),(0,i.Wm)(p,{style:{"padding-top":"52px"}},{default:(0,i.w5)((()=>[(0,i.Wm)(m,null,{default:(0,i.w5)((()=>[(0,i.Wm)(u)])),_:1})])),_:1})])}var Aa={name:"Qhome",data(){return{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{}}},methods:{quit(){k.post("/onlineusers/delete",this.user),localStorage.removeItem("user"),di.push("/")}}};const Ia=(0,d.Z)(Aa,[["render",Na],["__scopeId","data-v-4f149971"]]);var Oa=Ia;const $a={style:{width:"100%",display:"flex"}},Ta=(0,i._)("div",{id:"bie",style:{width:"100%",height:"400px"}},null,-1),Pa=(0,i._)("div",{id:"user",style:{width:"100%",height:"400px"}},null,-1),Ea=[Ta,Pa];function Ba(e,t,l,a,s,o){return(0,i.wg)(),(0,i.iD)("div",$a,Ea)}var ja=l(8313),Fa={name:"Home",data(){return{typelist:"",sexlist:""}},methods:{inittype(){k.get("/novel/typesize").then((e=>{"1"==e.code&&(this.typelist=e.data.map((e=>({value:e.count,name:e.typeName}))))}))},initsex(){k.get("/user/getsex").then((e=>{"1"==e.code&&(this.sexlist=e.data.map((e=>{const t=e.sex?e.sex:"未知";return{value:e.count,name:t}})))}))},initBie(){let e,t=document.getElementById("bie"),l=ja.S1(t,{handleMouseWheel:{passive:!0}}),a=this.typelist;e={title:{text:"小说统计",subtext:"统计纬度:图书种类",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"小说分类",type:"pie",radius:"50%",data:a,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},e&&l.setOption(e)},inituser(){const e=document.getElementById("user"),t=ja.S1(e,{handleMouseWheel:{passive:!0}});let l;const a=this.sexlist;l={title:{text:"用户统计",subtext:"统计纬度:性别",left:"center"},tooltip:{trigger:"item"},legend:{orient:"vertical",left:"left"},series:[{name:"性别",type:"pie",radius:"50%",data:a,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]},l&&t.setOption(l)}},mounted(){this.inittype(),this.initsex(),setTimeout((()=>{this.initBie(),this.inituser()}),500)}};const Ra=(0,d.Z)(Fa,[["render",Ba]]);var Ha=Ra;const Ja=e=>((0,i.dD)("data-v-61d5731e"),e=e(),(0,i.Cn)(),e),Ka={class:"info-top"},Za={style:{flex:"1"}},Xa={style:{flex:"5"},class:"info-top-right"},Qa={style:{"font-size":"15px"}},Ma={style:{padding:"0px"}},Ga=Ja((()=>(0,i._)("br",null,null,-1))),Ya=Ja((()=>(0,i._)("br",null,null,-1))),es=Ja((()=>(0,i._)("br",null,null,-1))),ts=Ja((()=>(0,i._)("br",null,null,-1))),ls=Ja((()=>(0,i._)("br",null,null,-1))),as=Ja((()=>(0,i._)("br",null,null,-1))),ss={key:0,class:"userinfo"},is=Ja((()=>(0,i._)("td",null,"昵称：",-1))),os=Ja((()=>(0,i._)("td",null,"用户名：",-1))),rs=Ja((()=>(0,i._)("td",null,"真实姓名：",-1))),ns=Ja((()=>(0,i._)("td",null,"性别：",-1))),ds=Ja((()=>(0,i._)("td",null,"年龄：",-1))),us=Ja((()=>(0,i._)("td",null,"电话：",-1))),ms={colspan:"2",style:{"text-align":"center"}},ps={key:1},cs={key:2},hs={key:3};function gs(e,t,l,a,s,o){const r=(0,i.up)("el-col"),n=(0,i.up)("el-avatar"),d=(0,i.up)("el-row"),u=(0,i.up)("el-button"),m=(0,i.up)("el-divider"),p=(0,i.up)("el-input"),c=(0,i.up)("el-radio-button"),h=(0,i.up)("el-radio-group"),g=(0,i.up)("novel-card-list"),f=(0,i.up)("el-form-item"),w=(0,i.up)("el-form"),v=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{span:4}),(0,i.Wm)(r,{span:17},{default:(0,i.w5)((()=>[(0,i._)("div",Ka,[(0,i._)("div",Za,[(0,i.Wm)(n,{size:"large",style:{height:"90px",width:"90px"},src:"https://hsq.org.cn:8090/hsq/file/"+s.user.avatar},null,8,["src"])]),(0,i._)("div",Xa,[(0,i._)("div",Qa,[(0,i._)("div",Ma,[(0,i.Wm)(d),(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{span:15},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(s.user.nickName),1),Ga,(0,i.Uk)("用户名:"+(0,U.zw)(s.user.username),1),Ya,(0,i.Wm)(u,{onClick:t[0]||(t[0]=e=>s.showDialog=!0),type:"primary",size:"small"},{default:(0,i.w5)((()=>[(0,i.Uk)("修改密码")])),_:1})])),_:1}),(0,i.Wm)(r,{span:2,class:"info-top-right-col"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(s.user.novelcount),1),es,(0,i.Uk)("作品")])),_:1}),(0,i.Wm)(r,{span:2,class:"info-top-right-col"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(s.user.thumbsUpcount),1),ts,(0,i.Uk)("点赞")])),_:1}),(0,i.Wm)(r,{span:2,class:"info-top-right-col"},{default:(0,i.w5)((()=>[(0,i.Uk)((0,U.zw)(s.user.collectioncount),1),ls,(0,i.Uk)("收藏")])),_:1})])),_:1})])])])])])),_:1}),(0,i.Wm)(r,{span:3})])),_:1}),as,(0,i.Wm)(d,null,{default:(0,i.w5)((()=>[(0,i.Wm)(r,{span:4}),(0,i.Wm)(r,{span:3,style:{border:"1px solid #000"}},{default:(0,i.w5)((()=>[(0,i.Wm)(m),(0,i._)("div",{onClick:t[1]||(t[1]=e=>s.t="userinfo")},"个人信息"),(0,i.Wm)(m),(0,i._)("div",{onClick:t[2]||(t[2]=e=>s.t="novelList")},"我的作品"),(0,i.Wm)(m),(0,i._)("div",{onClick:t[3]||(t[3]=e=>s.t="thumbsUpList")},"我的点赞"),(0,i.Wm)(m),(0,i._)("div",{onClick:t[4]||(t[4]=e=>s.t="collectionList")},"我的收藏"),(0,i.Wm)(m)])),_:1}),(0,i.Wm)(r,{span:14,style:{border:"1px solid #000",padding:"10px"}},{default:(0,i.w5)((()=>["userinfo"==s.t?((0,i.wg)(),(0,i.iD)("div",ss,[(0,i._)("table",null,[(0,i._)("tr",null,[is,(0,i._)("td",null,[(0,i.Wm)(p,{modelValue:s.user.nickName,"onUpdate:modelValue":t[5]||(t[5]=e=>s.user.nickName=e)},null,8,["modelValue"])])]),(0,i._)("tr",null,[os,(0,i._)("td",null,[(0,i.Wm)(p,{modelValue:s.user.username,"onUpdate:modelValue":t[6]||(t[6]=e=>s.user.username=e),disabled:""},null,8,["modelValue"])])]),(0,i._)("tr",null,[rs,(0,i._)("td",null,[(0,i.Wm)(p,{modelValue:s.user.fullname,"onUpdate:modelValue":t[7]||(t[7]=e=>s.user.fullname=e)},null,8,["modelValue"])])]),(0,i._)("tr",null,[ns,(0,i._)("td",null,[(0,i.Wm)(h,{modelValue:s.user.sex,"onUpdate:modelValue":t[8]||(t[8]=e=>s.user.sex=e),size:"medium"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"男",value:"男"}),(0,i.Wm)(c,{label:"女",value:"女"}),(0,i.Wm)(c,{label:"保密",value:"保密"})])),_:1},8,["modelValue"])])]),(0,i._)("tr",null,[ds,(0,i._)("td",null,[(0,i.Wm)(p,{modelValue:s.user.age,"onUpdate:modelValue":t[9]||(t[9]=e=>s.user.age=e),"validate-event":"",type:"number"},null,8,["modelValue"])])]),(0,i._)("tr",null,[us,(0,i._)("td",null,[(0,i.Wm)(p,{modelValue:s.user.phoneNumber,"onUpdate:modelValue":t[10]||(t[10]=e=>s.user.phoneNumber=e)},null,8,["modelValue"])])]),(0,i._)("tr",null,[(0,i._)("td",ms,[(0,i.Wm)(u,{onClick:o.update},{default:(0,i.w5)((()=>[(0,i.Uk)("保存")])),_:1},8,["onClick"])])])])])):(0,i.kq)("",!0),"novelList"==s.t?((0,i.wg)(),(0,i.iD)("div",ps,[(0,i.Wm)(g,{"novel-list":s.user.novelList,isall:!0},null,8,["novel-list"])])):(0,i.kq)("",!0),"thumbsUpList"==s.t?((0,i.wg)(),(0,i.iD)("div",cs,[(0,i.Wm)(g,{"novel-list":s.user.thumbsUpList,isall:!0},null,8,["novel-list"])])):(0,i.kq)("",!0),"collectionList"==s.t?((0,i.wg)(),(0,i.iD)("div",hs,[(0,i.Wm)(g,{"novel-list":s.user.collectionList,isall:!0},null,8,["novel-list"])])):(0,i.kq)("",!0)])),_:1}),(0,i.Wm)(r,{span:3})])),_:1}),(0,i.Wm)(v,{modelValue:s.showDialog,"onUpdate:modelValue":t[14]||(t[14]=e=>s.showDialog=e),title:"修改个人信息",width:"30%"},{default:(0,i.w5)((()=>[(0,i.Wm)(w,{model:s.pswdForm,"label-width":"80px",rules:s.formRules,ref:"pswdForm"},{default:(0,i.w5)((()=>[(0,i.Wm)(f,{label:"旧密码",prop:"oldPassword"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:s.pswdForm.oldPassword,"onUpdate:modelValue":t[11]||(t[11]=e=>s.pswdForm.oldPassword=e),type:"password"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(f,{label:"新密码",prop:"newPassword"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:s.pswdForm.newPassword,"onUpdate:modelValue":t[12]||(t[12]=e=>s.pswdForm.newPassword=e),type:"password"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(f,{label:"确认密码",prop:"confirmPassword"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{modelValue:s.pswdForm.confirmPassword,"onUpdate:modelValue":t[13]||(t[13]=e=>s.pswdForm.confirmPassword=e),type:"password"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(u,{type:"primary",onClick:o.submitForm},{default:(0,i.w5)((()=>[(0,i.Uk)("修改")])),_:1},8,["onClick"])])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])],64)}var fs={name:"Info",components:{NovelCardList:ql},data(){return{user:localStorage.getItem("user")?JSON.parse(localStorage.getItem("user")):{},params:{id:"",username:"",fullname:"",pageNum:1,pageSize:5},showDialog:!1,t:"userinfo",formRules:{oldPassword:[{required:!0,message:"请输入旧密码",trigger:"blur"},{validator:this.validateOldPassword,trigger:"blur"}],newPassword:[{required:!0,message:"请输入新密码",trigger:"blur"},{min:6,message:"密码长度不能小于6位",trigger:"blur"}],confirmPassword:[{required:!0,message:"请输入确认密码",trigger:"blur"},{validator:this.validateConfirmPassword,trigger:"blur"}]},pswdForm:{oldPassword:"",newPassword:"",confirmPassword:""}}},mounted(){this.getUserInfo()},methods:{getUserInfo(){k.get("/user/getUserInfo/"+this.user.id).then((e=>{this.user=e.data}))},validateConfirmPassword(e,t,l){""===t?l(new Error("请再次输入新密码")):t!==this.pswdForm.newPassword?l(new Error("两次输入密码不一致")):l()},validateOldPassword(e,t,l){""===t?l(new Error("请输入旧密码")):t!==this.user.password?l(new Error("旧密码错误")):l()},update(){k.post("user/save",this.user).then((e=>{"1"===e.code?(this.$message({message:"修改成功",type:"success"}),this.showDialog=!1):(this.$message.error(e.msg),this.getUserInfo())}))},submitForm(){this.$refs["pswdForm"].validate((e=>{if(!e)return!1;this.user.password=this.pswdForm.newPassword,k.post("user/save",this.user).then((e=>{"1"===e.code?(this.$message({message:"修改成功",type:"success"}),this.showDialog=!1,this.pswdForm.oldPassword="",this.pswdForm.newPassword="",this.pswdForm.confirmPassword="",di.push("/"),localStorage.clear()):this.$message.error(e.msg)}))}))},handleClose(){this.showDialog=!1}}};const ws=(0,d.Z)(fs,[["render",gs],["__scopeId","data-v-61d5731e"]]);var vs=ws;const ys={class:"search"},bs={class:"operation"},_s={class:"table"},ks={class:"pagination"},Ws={class:"dialog-footer"};function Cs(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-button"),d=(0,i.up)("el-table-column"),u=(0,i.up)("el-table"),m=(0,i.up)("el-pagination"),p=(0,i.up)("el-form-item"),c=(0,i.up)("el-form"),h=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",ys,[(0,i.Wm)(r,{placeholder:"请输入关键字查询",style:{width:"200px"},modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e)},null,8,["modelValue"]),(0,i.Wm)(n,{type:"info",plain:"",style:{"margin-left":"10px"},onClick:t[1]||(t[1]=e=>o.load(1))},{default:(0,i.w5)((()=>[(0,i.Uk)("查询")])),_:1}),(0,i.Wm)(n,{type:"warning",plain:"",style:{"margin-left":"10px"},onClick:o.reset},{default:(0,i.w5)((()=>[(0,i.Uk)("重置")])),_:1},8,["onClick"])]),(0,i._)("div",bs,[(0,i.Wm)(n,{type:"primary",plain:"",onClick:o.handleAdd},{default:(0,i.w5)((()=>[(0,i.Uk)("新增")])),_:1},8,["onClick"]),(0,i.Wm)(n,{type:"danger",plain:"",onClick:o.delBatch},{default:(0,i.w5)((()=>[(0,i.Uk)("批量删除")])),_:1},8,["onClick"])]),(0,i._)("div",_s,[(0,i.Wm)(u,{data:s.tableData,strip:"",onSelectionChange:o.handleSelectionChange},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{type:"selection",width:"55",align:"center"}),(0,i.Wm)(d,{prop:"uid",label:"用户id",sortable:""}),(0,i.Wm)(d,{prop:"chapterid",label:"章节id"}),(0,i.Wm)(d,{prop:"content",label:"评论内容"}),(0,i.Wm)(d,{prop:"creattime",label:"创建时间",sortable:""}),(0,i.Wm)(d,{label:"操作",align:"center",width:"180"},{default:(0,i.w5)((e=>[(0,i.Wm)(n,{size:"small",type:"primary",plain:"",onClick:t=>o.handleEdit(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("编辑")])),_:2},1032,["onClick"]),(0,i.Wm)(n,{size:"small",type:"danger",plain:"",onClick:t=>o.del(e.row.id)},{default:(0,i.w5)((()=>[(0,i.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,i._)("div",ks,[(0,i.Wm)(m,{background:"",onCurrentChange:o.handleCurrentChange,"current-page":s.pageNum,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, prev, pager, next",total:s.total},null,8,["onCurrentChange","current-page","page-size","total"])])]),(0,i.Wm)(h,{title:"评论表",modelValue:s.fromVisible,"onUpdate:modelValue":t[6]||(t[6]=e=>s.fromVisible=e),width:"40%","close-on-click-modal":!1,"destroy-on-close":""},{footer:(0,i.w5)((()=>[(0,i._)("div",Ws,[(0,i.Wm)(n,{onClick:t[5]||(t[5]=e=>s.fromVisible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取 消")])),_:1}),(0,i.Wm)(n,{type:"primary",onClick:o.save},{default:(0,i.w5)((()=>[(0,i.Uk)("确 定")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(c,{model:s.form,"label-width":"100px",style:{"padding-right":"50px"},rules:s.rules,ref:"formRef"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{label:"用户id",prop:"uid"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.uid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.uid=e),placeholder:"用户id"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"章节id",prop:"chapterid"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.chapterid,"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.chapterid=e),placeholder:"章节id"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"评论内容",prop:"content"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.content,"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.content=e),placeholder:"评论内容"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}var Vs={name:"Comment",data(){return{tableData:[],pageNum:1,pageSize:10,total:0,name:null,fromVisible:!1,form:{},user:JSON.parse(localStorage.getItem("user")||"{}"),rules:{},ids:[]}},created(){this.load(1)},methods:{handleAdd(){this.form={},this.fromVisible=!0},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.fromVisible=!0},save(){this.$refs.formRef.validate((e=>{e&&k({url:this.form.id?"/comment/update":"/comment/add",method:this.form.id?"PUT":"POST",data:this.form}).then((e=>{"1"===e.code?(this.$message.success("保存成功"),this.load(1),this.fromVisible=!1):this.$message.error(e.msg)}))}))},del(e){this.$confirm("您确定删除吗？","确认删除",{type:"warning"}).then((()=>{k.delete("/comment/delete/"+e).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{}))},handleSelectionChange(e){this.ids=e.map((e=>e.id))},delBatch(){this.ids.length?this.$confirm("您确定批量删除这些数据吗？","确认删除",{type:"warning"}).then((()=>{k.delete("/comment/delete/batch",{data:this.ids}).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{})):this.$message.warning("请选择数据")},load(e){e&&(this.pageNum=e),k.get("/comment/selectPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name}}).then((e=>{"1"===e.code?(this.tableData=e.data.list,this.total=e.data.total):this.$message.error(e.msg)}))},reset(){this.name=null},handleCurrentChange(e){this.load(e)}}};const Us=(0,d.Z)(Vs,[["render",Cs]]);var xs=Us;const Ss={class:"search"},zs={class:"operation"},Ds={class:"table"},qs={class:"image-container"},Ls={class:"pagination"},Ns={class:"dialog-footer"};function As(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-button"),d=(0,i.up)("el-table-column"),u=(0,i.up)("el-image"),m=(0,i.up)("el-table"),p=(0,i.up)("el-pagination"),c=(0,i.up)("el-form-item"),h=(0,i.up)("el-upload"),g=(0,i.up)("el-form"),f=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Ss,[(0,i.Wm)(r,{placeholder:"请输入关键字查询",style:{width:"200px"},modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e)},null,8,["modelValue"]),(0,i.Wm)(n,{type:"info",plain:"",style:{"margin-left":"10px"},onClick:t[1]||(t[1]=e=>o.load(1))},{default:(0,i.w5)((()=>[(0,i.Uk)("查询")])),_:1}),(0,i.Wm)(n,{type:"warning",plain:"",style:{"margin-left":"10px"},onClick:o.reset},{default:(0,i.w5)((()=>[(0,i.Uk)("重置")])),_:1},8,["onClick"])]),(0,i._)("div",zs,[(0,i.Wm)(n,{type:"primary",plain:"",onClick:o.handleAdd},{default:(0,i.w5)((()=>[(0,i.Uk)("新增")])),_:1},8,["onClick"]),(0,i.Wm)(n,{type:"danger",plain:"",onClick:o.delBatch},{default:(0,i.w5)((()=>[(0,i.Uk)("批量删除")])),_:1},8,["onClick"])]),(0,i._)("div",Ds,[(0,i.Wm)(m,{data:s.tableData,strip:"",onSelectionChange:o.handleSelectionChange},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{type:"selection",width:"55",align:"center"}),(0,i.Wm)(d,{prop:"router",label:"路由"}),(0,i.Wm)(d,{label:"图片"},{default:(0,i.w5)((e=>[(0,i._)("div",qs,[(0,i.Wm)(u,{style:{width:"50%"},src:"https://hsq.org.cn:8090/hsq/file/"+e.row.img,fit:"contain"},null,8,["src"])])])),_:1}),(0,i.Wm)(d,{label:"操作",align:"center",width:"180"},{default:(0,i.w5)((e=>[(0,i.Wm)(n,{size:"mini",type:"primary",plain:"",onClick:t=>o.handleEdit(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("编辑")])),_:2},1032,["onClick"]),(0,i.Wm)(n,{size:"mini",type:"danger",plain:"",onClick:t=>o.del(e.row.id)},{default:(0,i.w5)((()=>[(0,i.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,i._)("div",Ls,[(0,i.Wm)(p,{background:"",onCurrentChange:o.handleCurrentChange,"current-page":s.pageNum,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, prev, pager, next",total:s.total},null,8,["onCurrentChange","current-page","page-size","total"])])]),(0,i.Wm)(f,{title:"轮播图",modelValue:s.fromVisible,"onUpdate:modelValue":t[4]||(t[4]=e=>s.fromVisible=e),width:"40%","close-on-click-modal":!1,"destroy-on-close":""},{footer:(0,i.w5)((()=>[(0,i._)("div",Ns,[(0,i.Wm)(n,{onClick:t[3]||(t[3]=e=>s.fromVisible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取 消")])),_:1}),(0,i.Wm)(n,{type:"primary",onClick:o.save},{default:(0,i.w5)((()=>[(0,i.Uk)("确 定")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(g,{model:s.form,"label-width":"100px",style:{"padding-right":"50px"},rules:s.rules,ref:"formRef"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{label:"路由",prop:"router"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.router,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.router=e),placeholder:"路由"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(c,{label:"图片",prop:"img"},{default:(0,i.w5)((()=>[(0,i.Wm)(h,{class:"avatar-uploader",action:"https://hsq.org.cn:8090/hsq/file/imgupload","show-file-list":!1,"on-success":o.handleAvatarSuccess},{default:(0,i.w5)((()=>[(0,i.Wm)(u,{style:{width:"100px",height:"100px"},src:"https://hsq.org.cn:8090/hsq/file/"+s.form.img},null,8,["src"])])),_:1},8,["on-success"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}var Is={name:"CarouselChart",data(){return{tableData:[],pageNum:1,pageSize:10,total:0,name:null,fromVisible:!1,form:{},user:JSON.parse(localStorage.getItem("user")||"{}"),rules:{},ids:[]}},created(){this.load(1)},methods:{handleAdd(){this.form={},this.fromVisible=!0},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.fromVisible=!0},save(){this.$refs.formRef.validate((e=>{e&&k({url:this.form.id?"/carouselChart/update":"/carouselChart/add",method:this.form.id?"PUT":"POST",data:this.form}).then((e=>{"1"===e.code?(this.$message.success("保存成功"),this.load(1),this.fromVisible=!1):this.$message.error(e.msg)}))}))},del(e){this.$confirm("您确定删除吗？","确认删除",{type:"warning"}).then((t=>{k.delete("/carouselChart/delete/"+e).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{}))},handleSelectionChange(e){this.ids=e.map((e=>e.id))},delBatch(){this.ids.length?this.$confirm("您确定批量删除这些数据吗？","确认删除",{type:"warning"}).then((e=>{k.delete("/carouselChart/delete/batch",{data:this.ids}).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{})):this.$message.warning("请选择数据")},load(e){e&&(this.pageNum=e),k.get("/carouselChart/selectPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,router:this.name}}).then((e=>{"1"===e.code?(this.tableData=e.data.list,this.total=e.data.total):this.$message.error(e.msg)}))},reset(){this.name=null,this.load(1)},handleCurrentChange(e){this.load(e)},handleAvatarSuccess(e){this.form.img=e.data,console.log("Uploaded file URL:"+e.data)}}};const Os=(0,d.Z)(Is,[["render",As]]);var $s=Os;const Ts={class:"operation"},Ps={class:"table"},Es={class:"pagination"},Bs={class:"dialog-footer"};function js(e,t,l,a,s,o){const r=(0,i.up)("el-button"),n=(0,i.up)("el-table-column"),d=(0,i.up)("el-table"),u=(0,i.up)("el-pagination"),m=(0,i.up)("el-input"),p=(0,i.up)("el-form-item"),c=(0,i.up)("el-form"),h=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Ts,[(0,i.Wm)(r,{type:"danger",plain:"",onClick:o.delBatch},{default:(0,i.w5)((()=>[(0,i.Uk)("批量删除")])),_:1},8,["onClick"])]),(0,i._)("div",Ps,[(0,i.Wm)(d,{data:s.tableData,strip:"",onSelectionChange:o.handleSelectionChange},{default:(0,i.w5)((()=>[(0,i.Wm)(n,{type:"selection",width:"55",align:"center"}),(0,i.Wm)(n,{prop:"name",label:"操作内容"}),(0,i.Wm)(n,{prop:"time",label:"操作时间"}),(0,i.Wm)(n,{prop:"username",label:"操作人"}),(0,i.Wm)(n,{prop:"ip",label:"ip地址"}),(0,i.Wm)(n,{label:"操作",align:"center",width:"180"},{default:(0,i.w5)((e=>[(0,i.Wm)(r,{size:"small",type:"danger",plain:"",onClick:t=>o.del(e.row.id)},{default:(0,i.w5)((()=>[(0,i.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,i._)("div",Es,[(0,i.Wm)(u,{background:"",onCurrentChange:o.handleCurrentChange,"current-page":s.pageNum,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, prev, pager, next",total:s.total},null,8,["onCurrentChange","current-page","page-size","total"])])]),(0,i.Wm)(h,{title:"日志",modelValue:s.fromVisible,"onUpdate:modelValue":t[5]||(t[5]=e=>s.fromVisible=e),width:"40%","close-on-click-modal":!1,"destroy-on-close":""},{footer:(0,i.w5)((()=>[(0,i._)("div",Bs,[(0,i.Wm)(r,{onClick:t[4]||(t[4]=e=>s.fromVisible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取 消")])),_:1}),(0,i.Wm)(r,{type:"primary",onClick:o.save},{default:(0,i.w5)((()=>[(0,i.Uk)("确 定")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(c,{model:s.form,"label-width":"100px",style:{"padding-right":"50px"},rules:s.rules,ref:"formRef"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{label:"操作内容",prop:"name"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:s.form.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.form.name=e),placeholder:"操作内容"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"操作时间",prop:"time"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:s.form.time,"onUpdate:modelValue":t[1]||(t[1]=e=>s.form.time=e),placeholder:"操作时间"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"操作人",prop:"username"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:s.form.username,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.username=e),placeholder:"操作人"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"ip地址",prop:"ip"},{default:(0,i.w5)((()=>[(0,i.Wm)(m,{modelValue:s.form.ip,"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.ip=e),placeholder:"ip地址"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}var Fs={name:"LogView",data(){return{tableData:[],pageNum:1,pageSize:10,total:0,name:null,fromVisible:!1,form:{},user:JSON.parse(localStorage.getItem("user")||"{}"),rules:{},ids:[]}},created(){this.load(1)},methods:{save(){this.$refs.formRef.validate((e=>{e&&k({url:this.form.id?"/log/update":"/log/add",method:this.form.id?"PUT":"POST",data:this.form}).then((e=>{"1"===e.code?(this.$message.success("保存成功"),this.load(1),this.fromVisible=!1):this.$message.error(e.msg)}))}))},del(e){this.$confirm("您确定删除吗？","确认删除",{type:"warning"}).then((t=>{k.delete("/log/delete/"+e).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{}))},handleSelectionChange(e){this.ids=e.map((e=>e.id))},delBatch(){this.ids.length?this.$confirm("您确定批量删除这些数据吗？","确认删除",{type:"warning"}).then((e=>{k.delete("/log/delete/batch",{data:this.ids}).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{})):this.$message.warning("请选择数据")},load(e){e&&(this.pageNum=e),k.get("/log/selectPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name}}).then((e=>{"1"===e.code?(this.tableData=e.data.list,this.total=e.data.total):this.$message.error(e.msg)}))},reset(){this.name=null,this.load(1)},handleCurrentChange(e){this.load(e)}}};const Rs=(0,d.Z)(Fs,[["render",js]]);var Hs=Rs;const Js={class:"search"},Ks={class:"operation"},Zs={class:"table"},Xs={class:"pagination"},Qs={class:"dialog-footer"};function Ms(e,t,l,a,s,o){const r=(0,i.up)("el-input"),n=(0,i.up)("el-button"),d=(0,i.up)("el-table-column"),u=(0,i.up)("el-table"),m=(0,i.up)("el-pagination"),p=(0,i.up)("el-form-item"),c=(0,i.up)("el-date-picker"),h=(0,i.up)("el-form"),g=(0,i.up)("el-dialog");return(0,i.wg)(),(0,i.iD)("div",null,[(0,i._)("div",Js,[(0,i.Wm)(r,{placeholder:"请输入关键字查询",style:{width:"200px"},modelValue:s.name,"onUpdate:modelValue":t[0]||(t[0]=e=>s.name=e)},null,8,["modelValue"]),(0,i.Wm)(n,{type:"info",plain:"",style:{"margin-left":"10px"},onClick:t[1]||(t[1]=e=>o.load(1))},{default:(0,i.w5)((()=>[(0,i.Uk)("查询")])),_:1}),(0,i.Wm)(n,{type:"warning",plain:"",style:{"margin-left":"10px"},onClick:o.reset},{default:(0,i.w5)((()=>[(0,i.Uk)("重置")])),_:1},8,["onClick"])]),(0,i._)("div",Ks,[(0,i.Wm)(n,{type:"primary",plain:"",onClick:o.handleAdd},{default:(0,i.w5)((()=>[(0,i.Uk)("新增")])),_:1},8,["onClick"]),(0,i.Wm)(n,{type:"danger",plain:"",onClick:o.delBatch},{default:(0,i.w5)((()=>[(0,i.Uk)("批量删除")])),_:1},8,["onClick"])]),(0,i._)("div",Zs,[(0,i.Wm)(u,{data:s.tableData,strip:"",onSelectionChange:o.handleSelectionChange},{default:(0,i.w5)((()=>[(0,i.Wm)(d,{type:"selection",width:"55",align:"center"}),(0,i.Wm)(d,{prop:"id",label:"序号",width:"70",align:"center",sortable:""}),(0,i.Wm)(d,{prop:"uid",label:"用户id"}),(0,i.Wm)(d,{prop:"content",label:"内容"}),(0,i.Wm)(d,{prop:"creattime",label:"时间"}),(0,i.Wm)(d,{prop:"commentId",label:"评论id"}),(0,i.Wm)(d,{prop:"parentReplyId",label:"被回复的回复的标识符"}),(0,i.Wm)(d,{label:"操作",align:"center",width:"180"},{default:(0,i.w5)((e=>[(0,i.Wm)(n,{size:"small",type:"primary",plain:"",onClick:t=>o.handleEdit(e.row)},{default:(0,i.w5)((()=>[(0,i.Uk)("编辑")])),_:2},1032,["onClick"]),(0,i.Wm)(n,{size:"small",type:"danger",plain:"",onClick:t=>o.del(e.row.id)},{default:(0,i.w5)((()=>[(0,i.Uk)("删除")])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data","onSelectionChange"]),(0,i._)("div",Xs,[(0,i.Wm)(m,{background:"",onCurrentChange:o.handleCurrentChange,"current-page":s.pageNum,"page-sizes":[5,10,20],"page-size":s.pageSize,layout:"total, prev, pager, next",total:s.total},null,8,["onCurrentChange","current-page","page-size","total"])])]),(0,i.Wm)(g,{title:"回复表",modelValue:s.fromVisible,"onUpdate:modelValue":t[8]||(t[8]=e=>s.fromVisible=e),width:"40%","close-on-click-modal":!1,"destroy-on-close":""},{footer:(0,i.w5)((()=>[(0,i._)("div",Qs,[(0,i.Wm)(n,{onClick:t[7]||(t[7]=e=>s.fromVisible=!1)},{default:(0,i.w5)((()=>[(0,i.Uk)("取 消")])),_:1}),(0,i.Wm)(n,{type:"primary",onClick:o.save},{default:(0,i.w5)((()=>[(0,i.Uk)("确 定")])),_:1},8,["onClick"])])])),default:(0,i.w5)((()=>[(0,i.Wm)(h,{model:s.form,"label-width":"100px",style:{"padding-right":"50px"},rules:s.rules,ref:"formRef"},{default:(0,i.w5)((()=>[(0,i.Wm)(p,{label:"用户id",prop:"uid"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.uid,"onUpdate:modelValue":t[2]||(t[2]=e=>s.form.uid=e),placeholder:"用户id"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"内容",prop:"content "},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.content,"onUpdate:modelValue":t[3]||(t[3]=e=>s.form.content=e),placeholder:"内容"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"时间",prop:"creattime"},{default:(0,i.w5)((()=>[(0,i.Wm)(c,{modelValue:s.form.creattime,"onUpdate:modelValue":t[4]||(t[4]=e=>s.form.creattime=e),type:"datetime",placeholder:"Pick a Date",format:"YYYY/MM/DD HH:mm:ss",width:"200px"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"评论id",prop:"commentId"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.commentId,"onUpdate:modelValue":t[5]||(t[5]=e=>s.form.commentId=e),placeholder:"评论id"},null,8,["modelValue"])])),_:1}),(0,i.Wm)(p,{label:"被回复的回复的标识符",prop:"parentReplyId"},{default:(0,i.w5)((()=>[(0,i.Wm)(r,{modelValue:s.form.parentReplyId,"onUpdate:modelValue":t[6]||(t[6]=e=>s.form.parentReplyId=e),placeholder:"被回复的回复的标识符"},null,8,["modelValue"])])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue"])])}var Gs={name:"Reply",data(){return{tableData:[],pageNum:1,pageSize:10,total:0,name:null,fromVisible:!1,form:{},user:JSON.parse(localStorage.getItem("user")||"{}"),rules:{},ids:[]}},created(){this.load(1)},methods:{handleAdd(){this.form={},this.fromVisible=!0},handleEdit(e){this.form=JSON.parse(JSON.stringify(e)),this.fromVisible=!0},save(){this.$refs.formRef.validate((e=>{e&&k({url:this.form.id?"/reply/update":"/reply/add",method:this.form.id?"PUT":"POST",data:this.form}).then((e=>{"1"===e.code?(this.$message.success("保存成功"),this.load(1),this.fromVisible=!1):this.$message.error(e.msg)}))}))},del(e){this.$confirm("您确定删除吗？","确认删除",{type:"warning"}).then((()=>{k.delete("/reply/delete/"+e).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{}))},handleSelectionChange(e){this.ids=e.map((e=>e.id))},delBatch(){this.ids.length?this.$confirm("您确定批量删除这些数据吗？","确认删除",{type:"warning"}).then((()=>{k.delete("/reply/delete/batch",{data:this.ids}).then((e=>{"1"===e.code?(this.$message.success("操作成功"),this.load(1)):this.$message.error(e.msg)}))})).catch((()=>{})):this.$message.warning("请选择数据")},load(e){e&&(this.pageNum=e),k.get("/reply/selectPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,name:this.name}}).then((e=>{"1"===e.code?(this.tableData=e.data?.list,this.total=e.data?.total):this.$message.error(e.msg)}))},reset(){this.name=null,this.load(1)},handleCurrentChange(e){this.load(e)}}};const Ys=(0,d.Z)(Gs,[["render",Ms]]);var ei=Ys;const ti=(0,i._)("h1",null,"404 Not Found",-1),li=(0,i._)("p",null,"Sorry, the page you requested could not be found.",-1);function ai(e,t,l,a,s,o){return(0,i.wg)(),(0,i.iD)("div",null,[ti,li,(0,i._)("p",null,(0,U.zw)(s.count)+"秒后自动跳转到首页",1)])}var si={name:"NotFoundComponent",data(){return{count:5}},methods:{countDown(){let e=setInterval((()=>{this.count>0?this.count--:(clearInterval(e),this.$router.push("/qhome"))}),1e3)}},mounted(){this.countDown()}};const ii=(0,d.Z)(si,[["render",ai]]);var oi=ii;const ri=[{path:"/codelogin",name:"codelogin",component:nl},{path:"/qhome",name:"qhome",redirect:"/novels",component:Oa,children:[{path:"/novelchapters",name:"novelchapters",component:Xt},{path:"/message",name:"message",component:Ee},{path:"/img",name:"img",component:B},{path:"/novels",name:"novels",component:Al},{path:"/info",name:"info",component:vs},{path:"/write",name:"write",component:Vt}]},{path:"/LayOut",name:"LayOut",component:le,redirect:"/home",meta:{requiresAdmin:!0},children:[{path:"/user",name:"user",component:V},{path:"/home",name:"home",component:Ha},{path:"/gpt",name:"gpt",component:ot},{path:"/read",name:"read",component:Qe},{path:"/noveltype",name:"noveltype",component:hl},{path:"/comment",name:"Comment",component:xs},{path:"/chaptertable",name:"chaptertable",component:El},{path:"/carouselChart",name:"CarouselChart",component:$s},{path:"/logview",name:"LogView",component:Hs},{path:"/reply",name:"Reply",component:ei}]},{path:"/",name:"login",component:ye},{path:"/novelcontent",name:"NovelContent",component:Da},{path:"/:catchAll(.*)",name:"NotFound",component:oi}],ni=(0,h.p7)({history:(0,h.PO)(),routes:ri});ni.beforeEach(((e,t,l)=>{if(e.matched.some((e=>e.meta.requiresAdmin))){const e=JSON.parse(localStorage.getItem("user"));if("管理员"!==e.permission)return void l("/404")}l()}));var di=ni;const ui=(0,y.MT)({state(){return{count:0,isLoading:!1}},mutations:{increment(e){e.count++},setResData(e,t){e.resData=t}}}),mi=(0,a.ri)(m);mi.config.globalProperties.$axios=p.Z,mi.config.globalProperties.$baseURL={NODE_ENV:"production",VUE_APP_BASEUAL:"“http://39.99.241.236:8090”",BASE_URL:"/"}.VUE_APP_BASEUA;for(const[pi,ci]of Object.entries(c))mi.component(pi,ci);mi.use(ui),mi.use(di),mi.use(s.Z),mi.mount("#app")},2480:function(){}},t={};function l(a){var s=t[a];if(void 0!==s)return s.exports;var i=t[a]={exports:{}};return e[a].call(i.exports,i,i.exports,l),i.exports}l.m=e,function(){var e=[];l.O=function(t,a,s,i){if(!a){var o=1/0;for(u=0;u<e.length;u++){a=e[u][0],s=e[u][1],i=e[u][2];for(var r=!0,n=0;n<a.length;n++)(!1&i||o>=i)&&Object.keys(l.O).every((function(e){return l.O[e](a[n])}))?a.splice(n--,1):(r=!1,i<o&&(o=i));if(r){e.splice(u--,1);var d=s();void 0!==d&&(t=d)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[a,s,i]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var s,i,o=a[0],r=a[1],n=a[2],d=0;if(o.some((function(t){return 0!==e[t]}))){for(s in r)l.o(r,s)&&(l.m[s]=r[s]);if(n)var u=n(l)}for(t&&t(a);d<o.length;d++)i=o[d],l.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return l.O(u)},a=self["webpackChunkStudysystem"]=self["webpackChunkStudysystem"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(5969)}));a=l.O(a)})();
//# sourceMappingURL=app.dc1b6787.js.map